<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[React+AntDåå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ--ç»ˆæç‰ˆ]]></title>
      <url>https://yezihaohao.github.io/2017/05/09/React-AntD%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-%E7%BB%88%E6%9E%81%E7%89%88/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>ç½‘ä¸Šreactåå°ç®¡ç†å¼€æºå…è´¹çš„å®Œæ•´ç‰ˆé¡¹ç›®æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥åˆ©ç”¨ç©ºä½™æ—¶é—´é›†æˆäº†ä¸€ä¸ªç‰ˆæœ¬å‡ºæ¥ï¼Œå·²æ”¾åˆ°GitHub<br>  å¯åŠ¨å’Œæ‰“åŒ…çš„æ—¶é—´éƒ½ç¨é•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ä¸¤åˆ†é’Ÿ</p>
</blockquote>
<ul>
<li><a href="https://github.com/yezihaohao/react-admin" target="_blank" rel="external">GitHubåœ°å€</a></li>
<li><a href="http://cheng_haohao.oschina.io/reactadmin/#/app/dashboard/index" target="_blank" rel="external">é¢„è§ˆåœ°å€</a>(è¿˜æ²¡åšå“åº”å¼ï¼Œä¸å»ºè®®æ‰‹æœºé¢„è§ˆğŸ˜•)</li>
</ul>
<h3 id="ä¾èµ–æ¨¡å—"><a href="#ä¾èµ–æ¨¡å—" class="headerlink" title="ä¾èµ–æ¨¡å—"></a>ä¾èµ–æ¨¡å—</h3><p><span style="color: rgb(184,49,47);">é¡¹ç›®æ˜¯ç”¨create-react-appåˆ›å»ºçš„ï¼Œä¸»è¦è¿˜æ˜¯åˆ—å‡ºæ–°åŠ çš„åŠŸèƒ½ä¾èµ–åŒ…</span></p>
<p><span style="color: rgb(184,49,47);">ç‚¹å‡»åç§°å¯è·³è½¬ç›¸å…³ç½‘ç«™ğŸ˜„ğŸ˜„</span></p>
<ul>
<li><a href="https://facebook.github.io/react/" target="_blank" rel="external">react@15.5.0</a></li>
<li><a href="https://react-guide.github.io/react-router-cn/" target="_blank" rel="external">react-router@3.0.2</a>(<span style="color: rgb(243,121,52);">reactè·¯ç”±,4.xçš„å·®å¼‚è¿˜æ˜¯æ¯”è¾ƒå¤§ï¼Œæš‚æ—¶è¿˜æ˜¯3.xçš„ç‰ˆæœ¬</span>)</li>
<li><a href="https://ant.design/index-cn" target="_blank" rel="external">antd@2.9.3</a>(<span style="color: rgb(243,121,52);">èš‚èšé‡‘æœå¼€æºçš„react uiç»„ä»¶æ¡†æ¶</span>)</li>
<li><a href="https://github.com/mzabriskie/axios" target="_blank" rel="external">axios@0.16.1</a>(<span style="color: rgb(243,121,52);">httpè¯·æ±‚æ¨¡å—ï¼Œå¯ç”¨äºå‰ç«¯ä»»ä½•åœºæ™¯ï¼Œå¾ˆå¼ºå¤§ğŸ‘</span>)</li>
<li><a href="https://github.com/hustcc/echarts-for-react" target="_blank" rel="external">echarts-for-react@1.2.0</a>(<span style="color: rgb(243,121,52);">å¯è§†åŒ–å›¾è¡¨ï¼Œåˆ«äººåŸºäºreactå¯¹echartsçš„å°è£…ï¼Œè¶³å¤Ÿç”¨äº†</span>)</li>
<li><a href="http://recharts.org/#/zh-CN/" target="_blank" rel="external">recharts@0.22.3</a>(<span style="color: rgb(243,121,52);">å¦ä¸€ä¸ªåŸºäºreactå°è£…çš„å›¾è¡¨ï¼Œä¸ªäººè§‰å¾—æ˜¯æ²¡æœ‰echartså¥½ç”¨</span>)</li>
<li><a href="https://github.com/rstacruz/nprogress" target="_blank" rel="external">nprogress@0.2.0</a>(<span style="color: rgb(243,121,52);">é¡¶éƒ¨åŠ è½½æ¡ï¼Œè›®å¥½ç”¨ğŸ‘</span>)</li>
<li><a href="https://github.com/jpuri/react-draft-wysiwyg" target="_blank" rel="external">react-draft-wysiwyg@1.9.6</a>(<span style="color: rgb(243,121,52);">åˆ«äººåŸºäºreactçš„å¯Œæ–‡æœ¬å°è£…ï¼Œå¦‚æœæ‰¾åˆ°å…¶ä»–æ›´å¥½çš„å¯ä»¥æ›¿æ¢</span>)</li>
<li><a href="https://github.com/mzabriskie/react-draggable" target="_blank" rel="external">react-draggable@2.2.4</a>(<span style="color: rgb(243,121,52);">æ‹–æ‹½æ¨¡å—ï¼Œæ‰¾äº†ä¸ªç®€å•ç‰ˆçš„</span>)</li>
<li><a href="https://github.com/sindresorhus/screenfull.js/" target="_blank" rel="external">screenfull@3.2.0</a>(<span style="color: rgb(243,121,52);">å…¨å±æ’ä»¶</span>)</li>
<li><a href="https://github.com/dimsemenov/photoswipe" target="_blank" rel="external">photoswipe@4.1.2</a>(<span style="color: rgb(243,121,52);">å›¾ç‰‡å¼¹å±‚æŸ¥çœ‹æ’ä»¶ï¼Œä¸ä¾èµ–jQueryï¼Œè¿˜æ˜¯è›®å¥½ç”¨ğŸ‘</span>)</li>
<li><a href="http://daneden.me/animate" target="_blank" rel="external">animate.css@3.5.1</a>(<span style="color: rgb(243,121,52);">cssåŠ¨ç”»åº“</span>)</li>
<li>å…¶ä»–å°ç»†èŠ‚çœç•¥</li>
</ul>
<h3 id="åŠŸèƒ½æ¨¡å—"><a href="#åŠŸèƒ½æ¨¡å—" class="headerlink" title="åŠŸèƒ½æ¨¡å—"></a>åŠŸèƒ½æ¨¡å—</h3><p><span style="color: rgb(184,49,47);">å¤‡æ³¨ï¼šé¡¹ç›®åªå¼•å…¥äº†ant-designçš„éƒ¨åˆ†ç»„ä»¶ï¼Œå…¶ä»–çš„ç»„ä»¶antdå®˜ç½‘æœ‰æºç ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåç»­æœ‰æ—¶é—´è¡¥ä¸Šå…¨éƒ¨ç»„ä»¶ã€‚</span><br><span style="color: rgb(184,49,47);">é¡¹ç›®ä½¿ç”¨äº†antdçš„è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½â€“&gt;é»‘è‰²ï¼Œè‹¥æƒ³æ›¿æ¢å…¶ä»–é¢œè‰²ï¼Œå…·ä½“æ“ä½œè¯·æŸ¥çœ‹antdå®˜ç½‘</span><br><a id="more"></a></p>
<ul>
<li>é¦–é¡µ<ul>
<li>å®Œæ•´å¸ƒå±€</li>
<li>æ¢è‚¤(å…¨å±€åŠŸèƒ½ï¼Œæš‚æ—¶åªå®ç°äº†é¡¶éƒ¨å¯¼èˆªçš„æ¢è‚¤ï¼Œåç»­åŠ ä¸Šå…¶ä»–æ¨¡å—)</li>
</ul>
</li>
<li>å¯¼èˆªèœå•<ul>
<li>é¡¶éƒ¨å¯¼èˆª(èœå•ä¼¸ç¼©ï¼Œå…¨å±åŠŸèƒ½)</li>
<li>å·¦è¾¹èœå•(å¢åŠ æ»šåŠ¨æ¡ä»¥åŠé€‚é…è·¯ç”±çš„activeæ“ä½œ)</li>
</ul>
</li>
<li>UIæ¨¡å—<ul>
<li>æŒ‰é’®(antdç»„ä»¶)</li>
<li>å›¾æ ‡(antdç»„ä»¶å¹¶å¢åŠ å½©è‰²è¡¨æƒ…ç¬¦)</li>
<li>åŠ è½½ä¸­(antdç»„ä»¶å¹¶å¢åŠ é¡¶éƒ¨åŠ è½½æ¡)</li>
<li>é€šçŸ¥æé†’æ¡†(antdç»„ä»¶)</li>
<li>æ ‡ç­¾é¡µ(antdç»„ä»¶)</li>
<li>è½®æ’­å›¾(antåŠ¨æ•ˆç»„ä»¶)</li>
<li>å¯Œæ–‡æœ¬</li>
<li>æ‹–æ‹½</li>
<li>ç”»å»Š</li>
</ul>
</li>
<li>åŠ¨ç”»<ul>
<li>åŸºç¡€åŠ¨ç”»(animate.cssæ‰€æœ‰åŠ¨ç”»)</li>
<li>åŠ¨ç”»æ¡ˆä¾‹</li>
</ul>
</li>
<li>è¡¨æ ¼<ul>
<li>åŸºç¡€è¡¨æ ¼(antdç»„ä»¶)</li>
<li>é«˜çº§è¡¨æ ¼(antdç»„ä»¶)</li>
<li>å¼‚æ­¥è¡¨æ ¼(æ•°æ®æ¥è‡ªæ˜é‡‘é…±çš„æ¥å£)</li>
</ul>
</li>
<li>è¡¨å•<ul>
<li>åŸºç¡€è¡¨å•(antdç»„ä»¶)</li>
</ul>
</li>
<li>å›¾è¡¨<ul>
<li>echartså›¾è¡¨</li>
<li>rechartså›¾è¡¨</li>
</ul>
</li>
<li>é¡µé¢<ul>
<li>ç™»å½•é¡µé¢(åŒ…æ‹¬GitHubç¬¬ä¸‰æ–¹ç™»å½•)</li>
<li>404é¡µé¢</li>
</ul>
</li>
</ul>
<h3 id="åŠŸèƒ½æˆªå›¾"><a href="#åŠŸèƒ½æˆªå›¾" class="headerlink" title="åŠŸèƒ½æˆªå›¾"></a>åŠŸèƒ½æˆªå›¾</h3><h4 id="é¦–é¡µ"><a href="#é¦–é¡µ" class="headerlink" title="é¦–é¡µ"></a>é¦–é¡µ</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd1.gif" alt="æˆªå›¾"></p>
<h4 id="æŒ‰é’®å›¾æ ‡ç­‰"><a href="#æŒ‰é’®å›¾æ ‡ç­‰" class="headerlink" title="æŒ‰é’®å›¾æ ‡ç­‰"></a>æŒ‰é’®å›¾æ ‡ç­‰</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd2.gif" alt="æˆªå›¾"></p>
<h4 id="è½®æ’­å›¾"><a href="#è½®æ’­å›¾" class="headerlink" title="è½®æ’­å›¾"></a>è½®æ’­å›¾</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd3.gif" alt="æˆªå›¾"></p>
<h4 id="å¯Œæ–‡æœ¬"><a href="#å¯Œæ–‡æœ¬" class="headerlink" title="å¯Œæ–‡æœ¬"></a>å¯Œæ–‡æœ¬</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd4.gif" alt="æˆªå›¾"></p>
<h4 id="æ‹–æ‹½"><a href="#æ‹–æ‹½" class="headerlink" title="æ‹–æ‹½"></a>æ‹–æ‹½</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd5.gif" alt="æˆªå›¾"></p>
<h4 id="ç”»å»Š"><a href="#ç”»å»Š" class="headerlink" title="ç”»å»Š"></a>ç”»å»Š</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd6.gif" alt="æˆªå›¾"></p>
<h4 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd7.gif" alt="æˆªå›¾"></p>
<h4 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd8.gif" alt="æˆªå›¾"></p>
<h4 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd9.gif" alt="æˆªå›¾"></p>
<h4 id="å›¾è¡¨"><a href="#å›¾è¡¨" class="headerlink" title="å›¾è¡¨"></a>å›¾è¡¨</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd10.gif" alt="æˆªå›¾"></p>
<h4 id="é¡µé¢"><a href="#é¡µé¢" class="headerlink" title="é¡µé¢"></a>é¡µé¢</h4><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/rd11.gif" alt="æˆªå›¾"></p>
<h3 id="ä»£ç ç›®å½•"><a href="#ä»£ç ç›®å½•" class="headerlink" title="ä»£ç ç›®å½•"></a>ä»£ç ç›®å½•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">+-- build/                                  ---æ‰“åŒ…çš„æ–‡ä»¶ç›®å½•</div><div class="line">+-- config/                                 ---npm run eject åçš„é…ç½®æ–‡ä»¶ç›®å½•</div><div class="line">+-- node_modules/                           ---npmä¸‹è½½æ–‡ä»¶ç›®å½•</div><div class="line">+-- public/                                 </div><div class="line">|   --- index.html							---é¦–é¡µå…¥å£htmlæ–‡ä»¶</div><div class="line">|   --- npm.json							---echartsæµ‹è¯•æ•°æ®</div><div class="line">|   --- weibo.json							---echartsæµ‹è¯•æ•°æ®</div><div class="line">+-- src/                                    ---æ ¸å¿ƒä»£ç ç›®å½•</div><div class="line">|   +-- axios                               ---httpè¯·æ±‚å­˜æ”¾ç›®å½•</div><div class="line">|   |    --- index.js</div><div class="line">|   +-- components                          ---å„å¼å„æ ·çš„ç»„ä»¶å­˜æ”¾ç›®å½•</div><div class="line">|   |    +-- animation                      ---åŠ¨ç”»ç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    +-- charts                         ---å›¾è¡¨ç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    +-- dashboard                      ---é¦–é¡µç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    +-- forms                          ---è¡¨å•ç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    +-- pages                          ---é¡µé¢ç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    +-- tables                         ---è¡¨æ ¼ç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    +-- ui                             ---uiç»„ä»¶</div><div class="line">|   |    |    --- ...   </div><div class="line">|   |    --- BreadcrumbCustom.jsx           ---é¢åŒ…å±‘ç»„ä»¶</div><div class="line">|   |    --- HeaderCustom.jsx               ---é¡¶éƒ¨å¯¼èˆªç»„ä»¶</div><div class="line">|   |    --- Page.jsx                       ---é¡µé¢å®¹å™¨</div><div class="line">|   |    --- SiderCustom.jsx                ---å·¦è¾¹èœå•ç»„ä»¶</div><div class="line">|   +-- style                               ---é¡¹ç›®çš„æ ·å¼å­˜æ”¾ç›®å½•ï¼Œä¸»è¦é‡‡ç”¨lessç¼–å†™</div><div class="line">|   +-- utils                               ---å·¥å…·æ–‡ä»¶å­˜æ”¾ç›®å½•</div><div class="line">|   --- App.js                              ---ç»„ä»¶å…¥å£æ–‡ä»¶</div><div class="line">|   --- index.js                            ---é¡¹ç›®çš„æ•´ä½“jså…¥å£æ–‡ä»¶ï¼ŒåŒ…æ‹¬è·¯ç”±é…ç½®ç­‰</div><div class="line">--- .env                                    ---å¯åŠ¨é¡¹ç›®è‡ªå®šä¹‰ç«¯å£é…ç½®æ–‡ä»¶</div><div class="line">--- .eslintrc                               ---è‡ªå®šä¹‰eslinté…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å¢åŠ çš„react jsxè¯­æ³•é™åˆ¶</div><div class="line">--- package.json</div></pre></td></tr></table></figure>
<h3 id="å®‰è£…è¿è¡Œ"><a href="#å®‰è£…è¿è¡Œ" class="headerlink" title="å®‰è£…è¿è¡Œ"></a>å®‰è£…è¿è¡Œ</h3><h5 id="1-ä¸‹è½½æˆ–å…‹éš†é¡¹ç›®æºç "><a href="#1-ä¸‹è½½æˆ–å…‹éš†é¡¹ç›®æºç " class="headerlink" title="1.ä¸‹è½½æˆ–å…‹éš†é¡¹ç›®æºç "></a>1.ä¸‹è½½æˆ–å…‹éš†é¡¹ç›®æºç </h5><h5 id="2-npmå®‰è£…ç›¸å…³åŒ…æ–‡ä»¶-å›½å†…å»ºè®®å¢åŠ æ·˜å®é•œåƒæºï¼Œä¸ç„¶å¾ˆæ…¢ï¼Œä½ æ‡‚çš„ğŸ˜"><a href="#2-npmå®‰è£…ç›¸å…³åŒ…æ–‡ä»¶-å›½å†…å»ºè®®å¢åŠ æ·˜å®é•œåƒæºï¼Œä¸ç„¶å¾ˆæ…¢ï¼Œä½ æ‡‚çš„ğŸ˜" class="headerlink" title="2.npmå®‰è£…ç›¸å…³åŒ…æ–‡ä»¶(å›½å†…å»ºè®®å¢åŠ æ·˜å®é•œåƒæºï¼Œä¸ç„¶å¾ˆæ…¢ï¼Œä½ æ‡‚çš„ğŸ˜)"></a>2.npmå®‰è£…ç›¸å…³åŒ…æ–‡ä»¶(å›½å†…å»ºè®®å¢åŠ æ·˜å®é•œåƒæºï¼Œä¸ç„¶å¾ˆæ…¢ï¼Œä½ æ‡‚çš„ğŸ˜)</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i</div></pre></td></tr></table></figure>
<h5 id="3-å¯åŠ¨é¡¹ç›®"><a href="#3-å¯åŠ¨é¡¹ç›®" class="headerlink" title="3.å¯åŠ¨é¡¹ç›®"></a>3.å¯åŠ¨é¡¹ç›®</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm start</div></pre></td></tr></table></figure>
<h5 id="4-æ‰“åŒ…é¡¹ç›®"><a href="#4-æ‰“åŒ…é¡¹ç›®" class="headerlink" title="4.æ‰“åŒ…é¡¹ç›®"></a>4.æ‰“åŒ…é¡¹ç›®</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run build</div></pre></td></tr></table></figure>
<h3 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h3><p>è¯¥é¡¹ç›®ä¼šä¸å®šæ—¶æ›´æ–°ï¼Œåç»­æ—¶é—´ä¼šæ·»åŠ æ›´å¤šçš„æ¨¡å—</p>
<p>è‹¥æœ‰é—®é¢˜ï¼Œå¯åŠ QQç¾¤264591039ä¸æˆ‘äº¤æµ</p>
<p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œç»™ä¸ªstarå“Ÿ~~â¤ï¸â¤ï¸â¤ï¸â¤ï¸</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Reacté¡¹ç›®ç¬”è®°ä¹‹create-react-appè‡ªå®šä¹‰ESLinté…ç½®æ–‡ä»¶]]></title>
      <url>https://yezihaohao.github.io/2017/03/26/React%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-create-react-app%E8%87%AA%E5%AE%9A%E4%B9%89ESLint%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>äº†è§£eslintåŸºç¡€ç”¨æ³•ï¼Œè‹¥æƒ³æ›´è¿›ä¸€æ­¥äº†è§£å…¶ï¼Œè¯·æŸ¥é˜…<a href="http://eslint.org/" target="_blank" rel="external">å®˜ç½‘</a>ä»¥åŠç›¸å…³èµ„æ–™(<a href="http://eslint.cn/" target="_blank" rel="external">ä¸­æ–‡ç½‘</a>)<br>    è‹¥æœ‰é—®é¢˜è¯·æŒ‡å‡ºæˆ–åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚</p>
</blockquote>
<h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><p>ä½¿ç”¨create-react-app åˆ›å»ºé¡¹ç›®ï¼ˆæ­¤è¿‡ç¨‹ä¸åšè¯¦è§£ï¼‰ï¼Œç„¶åè¿è¡Œ<code>npm run eject</code>ä½¿å…¶æš´éœ²webpackç­‰é…ç½®æ–‡ä»¶</p>
<h3 id="è‡ªå®šä¹‰eslint"><a href="#è‡ªå®šä¹‰eslint" class="headerlink" title="è‡ªå®šä¹‰eslint"></a>è‡ªå®šä¹‰eslint</h3><p>ä¸Šè¿°æ­¥éª¤å¹¶æ²¡æœ‰æš´éœ²reactè„šæ‰‹æ¶å°è£…çš„eslintæ“ä½œï¼Œä¸ºäº†ä½¿å¾—é¡¹ç›®ç»Ÿä¸€è§„èŒƒåŒ–ï¼Œæ·»åŠ jsx-eslintæ“ä½œ<br>æ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ï¼ˆå…³äºjså…¶ä»–çš„eslintæ“ä½œï¼Œè¯·å‚è§å®˜ç½‘ï¼Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹jsxé™åˆ¶è§„èŒƒé…ç½®ï¼‰ã€‚</p>
<ul>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ .eslintrcæ–‡ä»¶<a id="more"></a></li>
<li>åœ¨æ ¹ç›®å½•æ‰¾åˆ°configæ–‡ä»¶å¤¹ï¼Œå¹¶æ‰¾åˆ°æ–‡ä»¶å¤¹ä¸‹çš„webpack.config.dev.jsæ–‡ä»¶</li>
<li>webpack.config.dev.jsæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">enforce: <span class="string">'pre'</span>,</div><div class="line"><span class="attr">use</span>: [&#123;</div><div class="line">  <span class="comment">// @remove-on-eject-begin</span></div><div class="line">  <span class="comment">// Point ESLint to our predefined config.</span></div><div class="line">  options: &#123;</div><div class="line">    <span class="comment">//configFile: path.join(__dirname, '../.eslintrc'),</span></div><div class="line">    useEslintrc: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// @remove-on-eject-end</span></div><div class="line">  loader: <span class="string">'eslint-loader'</span></div><div class="line">&#125;],</div></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/react_1.png" alt="æˆªå›¾"></p>
<ul>
<li>è¿è¡Œ<code>npm start</code>,æ­¤æ—¶ï¼Œä½ ç¼–å†™çš„jsxæ–‡ä»¶éƒ½æ˜¯ç»è¿‡.eslintrcçš„é…ç½®é™åˆ¶</li>
</ul>
<h3 id="eslintrcæ–‡ä»¶åŸºæœ¬è§„èŒƒé…ç½®"><a href="#eslintrcæ–‡ä»¶åŸºæœ¬è§„èŒƒé…ç½®" class="headerlink" title=".eslintrcæ–‡ä»¶åŸºæœ¬è§„èŒƒé…ç½®"></a>.eslintrcæ–‡ä»¶åŸºæœ¬è§„èŒƒé…ç½®</h3><p><code>ps:</code>  é…ç½®çš„valueå¯¹åº”çš„å€¼ï¼š 0 : off   1 : warning   2 : error<br>ä¸æ»¡è¶³ä»¥ä¸‹çš„è§„èŒƒè®¾ç½®çš„ï¼Œç¼–è¯‘ä»£ç æ—¶å°†æœ‰é»„è‰²æç¤º<br>å…·ä½“é…ç½®è§„åˆ™å¯å‚è§<a href="https://github.com/airbnb/javascript/tree/master/react" target="_blank" rel="external">Github</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"extends"</span>: <span class="string">"react-app"</span>,</div><div class="line">  <span class="string">"rules"</span>: &#123;</div><div class="line">    <span class="string">"no-multi-spaces"</span>: 1,</div><div class="line">    <span class="string">"react/jsx-space-before-closing"</span>: 1,        // æ€»æ˜¯åœ¨è‡ªåŠ¨å…³é—­çš„æ ‡ç­¾å‰åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¹Ÿä¸éœ€è¦æ¢è¡Œ</div><div class="line">    <span class="string">"jsx-quotes"</span>: 1,</div><div class="line">    <span class="string">"react/jsx-closing-bracket-location"</span>: 1,    // éµå¾ªJSXè¯­æ³•ç¼©è¿›/æ ¼å¼</div><div class="line">    <span class="string">"react/jsx-boolean-value"</span>: 1,               // å¦‚æœå±æ€§å€¼ä¸º <span class="literal">true</span>, å¯ä»¥ç›´æ¥çœç•¥</div><div class="line">    <span class="string">"react/no-string-refs"</span>: 1,      // æ€»æ˜¯åœ¨Refsé‡Œä½¿ç”¨å›è°ƒå‡½æ•°</div><div class="line">    <span class="string">"react/self-closing-comp"</span>: 1,    // å¯¹äºæ²¡æœ‰å­å…ƒç´ çš„æ ‡ç­¾æ¥è¯´æ€»æ˜¯è‡ªå·±å…³é—­æ ‡ç­¾</div><div class="line">    <span class="string">"react/jsx-no-bind"</span>: 1,          // å½“åœ¨ render() é‡Œä½¿ç”¨äº‹ä»¶å¤„ç†æ–¹æ³•æ—¶ï¼Œæå‰åœ¨æ„é€ å‡½æ•°é‡ŒæŠŠ this ç»‘å®šä¸Šå»</div><div class="line">    <span class="string">"react/sort-comp"</span>: 1,            // æŒ‰ç…§å…·ä½“è§„èŒƒçš„React.createClass çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹¦å†™ä»£ç </div><div class="line">    <span class="string">"react/jsx-pascal-case"</span>: 1        // Reactæ¨¡å—åä½¿ç”¨å¸•æ–¯å¡å‘½åï¼Œå®ä¾‹ä½¿ç”¨éª†é©¼å¼å‘½å</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Javascripté¡¹ç›®ç¬”è®°]]></title>
      <url>https://yezihaohao.github.io/2017/03/13/Javascript%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<h3 id="é’ˆå¯¹é¡¹ç›®ä¸­å¸¸ç”¨çš„javascript-apiç­‰ï¼Œè¿›è¡Œä¸€ä¸ªæ±‡æ€»"><a href="#é’ˆå¯¹é¡¹ç›®ä¸­å¸¸ç”¨çš„javascript-apiç­‰ï¼Œè¿›è¡Œä¸€ä¸ªæ±‡æ€»" class="headerlink" title="é’ˆå¯¹é¡¹ç›®ä¸­å¸¸ç”¨çš„javascript apiç­‰ï¼Œè¿›è¡Œä¸€ä¸ªæ±‡æ€»~"></a>é’ˆå¯¹é¡¹ç›®ä¸­å¸¸ç”¨çš„javascript apiç­‰ï¼Œè¿›è¡Œä¸€ä¸ªæ±‡æ€»~</h3><p>æ–‡æ¡£æŒç»­æ›´æ–°ä¸­ã€‚ã€‚ã€‚</p>
<blockquote>
<p>å‰æï¼šæœ‰äº›åŠŸèƒ½å¯èƒ½æµè§ˆå™¨è¿˜ä¸æ”¯æŒï¼Œéœ€è¦ç”¨babelè¿›è¡Œè½¬æ¢ï¼Œå…·ä½“çš„babelç¯å¢ƒæ­å»ºï¼Œè¯·è‡ªè¡ŒBaiduæˆ–googleã€‚<br>  å¾ˆå¤šæ¡†æ¶çš„è„šæ‰‹æ¶ç”Ÿæˆçš„helloworldé¡¹ç›®æ˜¯å·²ç»æ­å¥½çš„ç¯å¢ƒï¼Œæ¯”å¦‚reactæˆ–è€…vueï¼Œæ‰€ä»¥ä½¿ç”¨è„šæ‰‹æ¶çš„ç«¥é‹å¤§å¯æ”¾å¿ƒä½¿ç”¨ã€‚<br>  è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚</p>
</blockquote>
<h3 id="æ‰©å±•è¿ç®—ç¬¦ï¼šä¸‰ä¸ªç‚¹-â€¦"><a href="#æ‰©å±•è¿ç®—ç¬¦ï¼šä¸‰ä¸ªç‚¹-â€¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦ï¼šä¸‰ä¸ªç‚¹ â€¦"></a>æ‰©å±•è¿ç®—ç¬¦ï¼šä¸‰ä¸ªç‚¹ â€¦</h3><h4 id="åˆå¹¶æ•°ç»„"><a href="#åˆå¹¶æ•°ç»„" class="headerlink" title="åˆå¹¶æ•°ç»„"></a>åˆå¹¶æ•°ç»„</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> arr1 = [1, 2], arr2 = [3, 4];</div><div class="line">arr1.push(...arr2);  // æŠŠarr2åˆå¹¶åˆ°arr1çš„å°¾éƒ¨, arr1æ”¹å˜</div><div class="line">arr1.unshift(...arr2);   // æŠŠarr2åˆå¹¶åˆ°arr1çš„é¡¶éƒ¨, arr1æ”¹å˜</div><div class="line">[...arr1, ...arr2];  // ç”Ÿæˆä¸€ä¸ªç”±arr1å’Œarr2ç»„æˆçš„æ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜</div></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/jsdemo1.gif" alt="æˆªå›¾"></p>
<h4 id="å¤åˆ¶å¯¹è±¡"><a href="#å¤åˆ¶å¯¹è±¡" class="headerlink" title="å¤åˆ¶å¯¹è±¡"></a>å¤åˆ¶å¯¹è±¡</h4><a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">let obj = &#123;a: 1&#125;;</div><div class="line">&#123;...obj, b: 2&#125;;     // è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œ&#123;a: 1, b: 2&#125;, objå¯¹è±¡ä¸å˜</div><div class="line">// ç­‰ä»·äºä¸‹é¢çš„ç”¨æ³•</div><div class="line">Object.assign(&#123;&#125;, obj, &#123;b: 2&#125;);     // è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œ&#123;a: 1, b: 2&#125;,  objå¯¹è±¡ä¸å˜</div><div class="line">// å¦å¤–Object.assign è¿˜æœ‰ä¸€ä¸ªç”¨æ³•</div><div class="line">Object.assign(obj, &#123;b: 2&#125;);      // è¿”å›objå¯¹è±¡å¹¶ä¸”æ–°å¢åŠ äº†bå±æ€§ï¼š&#123;a: 1, b: 2&#125;  objå¯¹è±¡æ”¹å˜</div><div class="line">// ç”±äºä½¿ç”¨çš„chromeæµè§ˆå™¨è¿˜ä¸æ”¯æŒç¬¬ä¸€ç§ç”¨æ³•ï¼Œåªèƒ½æ¼”ç¤ºObject.assignã€‚é¡¹ç›®ä¸­ä½¿ç”¨babelè½¬æ¢</div></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/jsdemo3.gif" alt="æˆªå›¾"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Socket.io+Notificationå®ç°æµè§ˆå™¨æ¶ˆæ¯æ¨é€]]></title>
      <url>https://yezihaohao.github.io/2017/02/20/Socket-io-Notification%E5%AE%9E%E7%8E%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>socket.io: åŒ…å«å¯¹websocketçš„å°è£…ï¼Œå¯å®ç°æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹å‰çš„é€šä¿¡ã€‚è¯¦æƒ…è§<a href="http://socket.io" target="_blank" rel="external">å®˜ç½‘</a> (è™½ç„¶æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œä½†è¿˜æ˜¯é€šä¿—æ˜“æ‡‚)ã€‚<br>  Notification: Html5æ–°ç‰¹æ€§ï¼Œç”¨äºæµè§ˆå™¨çš„æ¡Œé¢é€šçŸ¥ï¼Œåªæœ‰éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒã€‚<br>  é€šè¿‡nodejs+Socket.io+Notificationå®ç°æœåŠ¡ç«¯å¾€æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€è‡ªå®šä¹‰æ¶ˆæ¯ã€‚<br>  è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚<br>  è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
</blockquote>
<h3 id="å¼€å‘å‰æ"><a href="#å¼€å‘å‰æ" class="headerlink" title="å¼€å‘å‰æ"></a>å¼€å‘å‰æ</h3><p>æœ¬åœ°å®‰è£…nodejsä»¥åŠnpm<br>å¯¹nodejsä»¥åŠexpressæ¡†æ¶æœ‰ä¸€å®šäº†è§£ã€‚ï¼ˆæœ¬ç¯‡å°†å’Œå®˜æ–¹æ–‡æ¡£ä¸€æ ·ï¼Œé‡‡ç”¨express 4.10.2ï¼‰</p>
<h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><ul>
<li>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹notificationï¼ˆä»¥ä¸‹æ“ä½œéƒ½åœ¨è¯¥æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•è¿›è¡Œï¼‰</li>
<li>npmåˆå§‹åŒ–package.jsonæ–‡ä»¶ <code>npm init</code></li>
<li>å®‰è£…express(æŒ‡å®šç‰ˆæœ¬4.10.2ï¼Œæ²¡æœ‰è¯•è¿‡å…¶ä»–ç‰ˆæœ¬ï¼Œæ„Ÿå…´è¶£å¯ä»¥è¯•ä¸‹) <code>npm install --save express@4.10.2</code></li>
<li>å®‰è£…socket.io(æœ¬äººå®‰è£…çš„ç‰ˆæœ¬æ˜¯1.7.3) <code>npm install --save socket.io</code></li>
</ul>
<h3 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><h4 id="æ„å»ºé€šä¿¡ç¯å¢ƒ"><a href="#æ„å»ºé€šä¿¡ç¯å¢ƒ" class="headerlink" title="æ„å»ºé€šä¿¡ç¯å¢ƒ"></a>æ„å»ºé€šä¿¡ç¯å¢ƒ</h4><p>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.htmlï¼ˆæ³¨ï¼šindexé¡µé¢çš„æ ·å¼æ¥è‡ªsocket.ioçš„å®˜æ–¹ç¤ºä¾‹ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;!doctype html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;Socket.IO Notification&lt;/title&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">      * &#123; margin: 0; padding: 0; box-sizing: border-box; &#125;</div><div class="line">      body &#123; font: 13px Helvetica, Arial; &#125;</div><div class="line">      form &#123; background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; &#125;</div><div class="line">      form input &#123; border: 0; padding: 10px; width: 90%; margin-right: .5%; &#125;</div><div class="line">      form button &#123; width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; &#125;</div><div class="line">      #messages &#123; list-style-type: none; margin: 0; padding: 0; &#125;</div><div class="line">      #messages li &#123; padding: 5px 10px; &#125;</div><div class="line">      #messages li:nth-child(odd) &#123; background: #eee; &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;ul id=&quot;messages&quot;&gt;&lt;/ul&gt;</div><div class="line">    &lt;form action=&quot;&quot;&gt;</div><div class="line">      &lt;input id=&quot;m&quot; autocomplete=&quot;off&quot; /&gt;&lt;button&gt;Send&lt;/button&gt;</div><div class="line">    &lt;/form&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<p>æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œå¹¶åœ¨jsæ–‡ä»¶ä¸­æ„å»ºç›¸åº”çš„å¯¹è±¡å’Œå˜é‡ï¼Œåˆ›å»ºç›‘å¬ç«¯å£ä¸º8080 çš„æœåŠ¡å™¨ï¼Œä»¥åŠæ·»åŠ æ˜ å°„åˆ°index.htmlçš„è·¯ç”±ã€‚<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> express = require(<span class="string">'express'</span>),</div><div class="line">	app = express(),</div><div class="line">	http = require(<span class="string">'http'</span>).Server(app),</div><div class="line">	io = require(<span class="string">'socket.io'</span>)(http);</div><div class="line">app.use(express.static(__dirname + <span class="string">'/public'</span>));</div><div class="line"></div><div class="line">app.get(<span class="string">'/'</span>, <span class="keyword">function</span>(req, res)&#123;</div><div class="line">	res.sendfile(<span class="string">'index.html'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">http.listen(8080, <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	console.log(<span class="string">'listening on port 8080'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>è¿è¡Œ <code>node index.js</code> ç”¨æµè§ˆå™¨æ‰“å¼€<a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a> æˆåŠŸçš„è¯å³å¯çœ‹åˆ°index.htmlé¡µé¢çš„å†…å®¹ã€‚<br>åœ¨index.jsçš„ç›‘å¬ç«¯å£ä»£ç ä¸Šæ–¹æ·»åŠ socket.ioçš„ç›‘å¬äº‹ä»¶ï¼Œç›‘å¬ç”¨æˆ·è¿æ¥çš„connectionã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">io.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(socket)&#123;</div><div class="line">	console.log(<span class="string">'a user connected'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>åˆ›å»ºç›‘å¬Eventäº‹ä»¶:notificationï¼Œå¹¶ç”¨emitå‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">io.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(socket)&#123;</div><div class="line">	console.log(<span class="string">'a user connected'</span>);</div><div class="line">	socket.on(<span class="string">'notification'</span>, <span class="keyword">function</span>(msg)&#123;</div><div class="line">		console.log(msg);</div><div class="line">	 	io.emit(<span class="string">'notification'</span>, msg);</div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>åœ¨index.htmlé¡µé¢ä¸­çš„ä¸Šæ–¹å¼•å…¥socket.ioæ–‡ä»¶ï¼Œå¹¶ç”¨emitå‘æœåŠ¡å™¨æäº¤æ•°æ®ä»¥åŠç›‘å¬äº‹ä»¶notificationï¼Œæ¥æ”¶æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯<br>æ³¨æ„ï¼Œå¼•å…¥socket.ioçš„æ–¹å¼åœ¨è¿è¡Œ<code>node index.js</code>ä¹‹åæ‰æœ‰æ•ˆæœï¼Œç›´æ¥æ‰“å¼€index.htmlæ˜¯æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶çš„<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">  &lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/socket.io/socket.io.js"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;script src=<span class="string">"http://code.jquery.com/jquery-1.11.1.js"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;script&gt;</div><div class="line"><span class="built_in">let</span> socket = io();</div><div class="line">$(<span class="string">'form'</span>).submit(<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	socket.emit(<span class="string">'notification'</span>, $(<span class="string">'#m'</span>).val());</div><div class="line">	$(<span class="string">'#m'</span>).val(<span class="string">''</span>);</div><div class="line">	<span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">&#125;);</div><div class="line">socket.on(<span class="string">'notification'</span>, <span class="keyword">function</span>(msg)&#123;</div><div class="line">	console.log(msg);</div><div class="line">&#125;);</div><div class="line">  &lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>æµè§ˆå™¨æ‰“å¼€<a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a> åï¼Œåœ¨inputæ¡†ä¸­è¾“å…¥ï¼Œç‚¹å‡»å‘é€ï¼Œåœ¨nodejsè¿è¡Œçš„æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a user connected //ä»¥ä¸‹æ•°æ®æ˜¯è¾“å…¥æ¡†è¾“å…¥çš„æ•°æ®</div><div class="line">hello   </div><div class="line"><span class="built_in">test</span></div><div class="line">æµ‹è¯•</div></pre></td></tr></table></figure></p>
<h4 id="å®ç°è‡ªå®šä¹‰æ¶ˆæ¯æ¨é€"><a href="#å®ç°è‡ªå®šä¹‰æ¶ˆæ¯æ¨é€" class="headerlink" title="å®ç°è‡ªå®šä¹‰æ¶ˆæ¯æ¨é€"></a>å®ç°è‡ªå®šä¹‰æ¶ˆæ¯æ¨é€</h4><p>å®Œæ•´ä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line"><span class="built_in">let</span> socket = io();</div><div class="line">$(<span class="string">'form'</span>).submit(<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	socket.emit(<span class="string">'notification'</span>, $(<span class="string">'#m'</span>).val());</div><div class="line">	$(<span class="string">'#m'</span>).val(<span class="string">''</span>);</div><div class="line">	<span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">&#125;);</div><div class="line">socket.on(<span class="string">'notification'</span>, <span class="keyword">function</span>(msg)&#123;</div><div class="line">	notice(msg);    //è‹¥å…è®¸é€šçŸ¥ï¼Œå¾…è¾“å…¥æ¶ˆæ¯åç›‘å¬å˜åŒ–å°±ä¼šè°ƒç”¨é€šçŸ¥æ–¹æ³•</div><div class="line">&#125;);</div><div class="line"></div><div class="line">   Notification.requestPermission(<span class="keyword">function</span>(permission) &#123;&#125;);    //è¯¢é—®æµè§ˆå™¨æ˜¯å¦å…è®¸é€šçŸ¥</div><div class="line">    </div><div class="line"><span class="keyword">function</span> notice(msg) &#123;  </div><div class="line">	<span class="built_in">let</span> _notification = new Notification(`æ¶ˆæ¯é€šçŸ¥`,&#123;</div><div class="line">		body:`<span class="variable">$&#123;msg&#125;</span>`,</div><div class="line">		icon:<span class="string">'http://localhost:8080/23539868.jpg'</span></div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	<span class="built_in">set</span>Timeout(<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		_notification.close(); //è®¾ç½®5ç§’åè‡ªåŠ¨å…³é—­é€šçŸ¥æ¡†</div><div class="line">	&#125;,5000);</div><div class="line">  </div><div class="line">&#125;</div><div class="line">  &lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h3 id="è¿è¡Œæˆªå›¾"><a href="#è¿è¡Œæˆªå›¾" class="headerlink" title="è¿è¡Œæˆªå›¾"></a>è¿è¡Œæˆªå›¾</h3><p>å®Œæ•´ç¤ºä¾‹ä»£ç è§<a href="https://github.com/yezihaohao/notification" target="_blank" rel="external">GitHub</a></p>
<p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/TEST.gif" alt="æˆªå›¾"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Vuejs2.Xç»„ä»¶åŒ–-é˜¿é‡Œçš„G2å›¾è¡¨ç»„ä»¶]]></title>
      <url>https://yezihaohao.github.io/2017/02/14/Vuejs2-X%E7%BB%84%E4%BB%B6%E5%8C%96-%E9%98%BF%E9%87%8C%E7%9A%84G2%E5%9B%BE%E8%A1%A8%E7%BB%84%E4%BB%B6/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>vue çš„ç»„ä»¶åŒ–å¼€å‘æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æœºåˆ¶.â€™ä¸€å¤„å¼€å‘,å¤šå¤„å¼•ç”¨â€™ï¼Œä¸ä»…é™ä½çš„ç»´æŠ¤æˆæœ¬ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ï¼Œè€Œä¸”å•ç‹¬çš„ç»„ä»¶æœ‰å•ç‹¬çš„è§†å›¾å’Œäº¤äº’æ•°æ®é€»è¾‘ï¼Œä½¿å¾—ç³»ç»Ÿå±‚æ¬¡æ›´åŠ åˆ†æ˜ã€‚è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®º~è½¬è½½æ–‡ç« è¯·æ ‡æ˜å‡ºå¤„ï¼</p>
</blockquote>
<h3 id="å¼€å‘åœºæ™¯"><a href="#å¼€å‘åœºæ™¯" class="headerlink" title="å¼€å‘åœºæ™¯"></a>å¼€å‘åœºæ™¯</h3><p>æ•°æ®å¯è§†åŒ–æ˜¯æˆ‘ä»¬äº’è”ç½‘å¸¸è§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥éš¾å…æˆ‘ä»¬ä¼šåœ¨é¡¹ç›®ä¸­æ’å…¥å›¾è¡¨ç­‰ï¼Œæ‰¾åˆ°ä¸€ä¸ªè¿˜ç®—å¯ä»¥çš„å›¾å½¢æ’ä»¶ï¼Œé˜¿é‡Œçš„G2å›¾å½¢åº“ï¼Œè¯¦æƒ…è¯·å‚è§<a href="https://antv.alipay.com/g2/doc/" target="_blank" rel="external">G2å®˜ç½‘</a>ã€‚æ¥ä¸‹æ¥å°±å¼€å§‹æˆ‘ä»¬çš„Vue G2ç»„ä»¶åŒ–ä¹‹æ—…ã€‚</p>
<h3 id="è„šæ‰‹æ¶æ­å»ºhelloworld"><a href="#è„šæ‰‹æ¶æ­å»ºhelloworld" class="headerlink" title="è„šæ‰‹æ¶æ­å»ºhelloworld"></a>è„šæ‰‹æ¶æ­å»ºhelloworld</h3><p>å…ˆç”¨è„šæ‰‹æ¶å·¥å…· vue-cliæ­å»ºä¸€ä¸ªvueçš„helloworldé¡¹ç›®(Vueçš„ç›¸å…³æ•™ç¨‹è¯·çœ‹<a href="https://cn.vuejs.org" target="_blank" rel="external">Vueå®˜ç½‘</a>)ï¼ŒæŒ‰ç…§readmeæ–‡æ¡£æ­£å¸¸è¿è¡Œè¯¥é¡¹ç›®ã€‚</p>
<h3 id="å®‰è£…G2æ’ä»¶"><a href="#å®‰è£…G2æ’ä»¶" class="headerlink" title="å®‰è£…G2æ’ä»¶"></a>å®‰è£…G2æ’ä»¶</h3><p>åœ¨package.jsonçš„ç›®å½•ä¸‹ç”¨npmåŒ…ç®¡ç†å·¥å…·å®‰è£…G2æ’ä»¶åº“<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev g2</div></pre></td></tr></table></figure></p>
<p>æˆ‘ç”¨åˆ°çš„ç‰ˆæœ¬æ˜¯2.2.1ï¼Œç°åœ¨æœ€æ–°çš„å¥½åƒæ˜¯2.2.2ï¼Œåº”è¯¥ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸è¿‡æˆ‘æ²¡æµ‹è¯•è¿‡</p>
<h3 id="æ–°å»ºG2Line-vueå•æ–‡ä»¶ç»„ä»¶"><a href="#æ–°å»ºG2Line-vueå•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="æ–°å»ºG2Line.vueå•æ–‡ä»¶ç»„ä»¶"></a>æ–°å»ºG2Line.vueå•æ–‡ä»¶ç»„ä»¶</h3><p>åœ¨componentsç›®å½•ä¸‹æ–°å»ºG2Line.vueæ–‡ä»¶ï¼ˆå½“å‰æ˜¯ä»¥çº¿å½¢å›¾ä¸ºä¾‹çš„ç»„ä»¶ï¼‰ã€‚<br>åœ¨templateæ ‡ç­¾ä¸­æ–°å¢æ ‡ç­¾<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;!--æ­¤å¤„çš„idç”¨å˜é‡ï¼Œæ–¹ä¾¿åŒä¸€é¡µé¢å¼•ç”¨å¤šæ¬¡ç›¸åŒçš„ç»„ä»¶--&gt;</div><div class="line">  &lt;div :id=<span class="string">"id"</span>&gt;&lt;/div&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>åœ¨scriptæ ‡ç­¾ä¸­å¼•å…¥G2å¹¶å¼€å§‹å…ˆå…³æ“ä½œä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">import G2 from <span class="string">'g2'</span>;</div><div class="line">  <span class="built_in">export</span> default &#123;</div><div class="line">    <span class="function"><span class="title">data</span></span> () &#123;</div><div class="line">      <span class="built_in">return</span> &#123;</div><div class="line">        chart: null</div><div class="line">      &#125;;</div><div class="line">    &#125;,</div><div class="line">    props: &#123;</div><div class="line">      charData: &#123;</div><div class="line">        <span class="built_in">type</span>: Array,</div><div class="line">        default: <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">          <span class="built_in">return</span> &#123;</div><div class="line">            data: [&#123;<span class="string">'mzkId'</span>: 112, <span class="string">'strftime'</span>: <span class="string">"2017-01-11"</span>, <span class="string">'value'</span>: 9275501&#125;,  // æµ‹è¯•æ•°æ®ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚è‡ªå·±è®¾ç½®æ•°æ®</div><div class="line">              &#123;<span class="string">'mzkId'</span>: 112, <span class="string">'strftime'</span>: <span class="string">"2017-01-12"</span>, <span class="string">'value'</span>: 9281904&#125;,</div><div class="line">              &#123;<span class="string">'mzkId'</span>: 112, <span class="string">'strftime'</span>: <span class="string">"2017-01-13"</span>, <span class="string">'value'</span>: 9290777&#125;,</div><div class="line">              &#123;<span class="string">'mzkId'</span>: 112, <span class="string">'strftime'</span>: <span class="string">"2017-01-14"</span>, <span class="string">'value'</span>: 9297913&#125;,</div><div class="line">              &#123;<span class="string">'mzkId'</span>: 112, <span class="string">'strftime'</span>: <span class="string">"2017-01-15"</span>, <span class="string">'value'</span>: 9306918&#125;,</div><div class="line">              &#123;<span class="string">'mzkId'</span>: 112, <span class="string">'strftime'</span>: <span class="string">"2017-01-16"</span>, <span class="string">'value'</span>: 9315641&#125;]</div><div class="line">          &#125;;</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      id: String</div><div class="line">    &#125;,</div><div class="line">    mounted: <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">//      this.drawChart();       // ç¬¬ä¸€æ­¥æƒ³åˆ°çš„æ˜¯åˆ›å»ºçš„æ—¶å€™æ›´æ–°å›¾è¡¨ï¼Œä½†æ˜¯è¿™ä¸ªä¸é€‚ç”¨äºå¼‚æ­¥è¯·æ±‚æ¥å£è·å–ç›¸å…³æ•°æ®ï¼Œæ‰€ä»¥é‡‡ç”¨ä¸‹é¢çš„ç›‘å¬çš„æ–¹å¼</div><div class="line">    &#125;,</div><div class="line">    beforeUpdate: <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">//      this.drawChart();</div><div class="line">    &#125;,</div><div class="line">    watch: &#123;</div><div class="line">      charData: <span class="keyword">function</span> (val, oldVal) &#123;    // ç›‘å¬charDataï¼Œå½“æ”¾ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘è¿™ä¸ªå›è°ƒå‡½æ•°ç»˜åˆ¶å›¾è¡¨</div><div class="line">        console.log(<span class="string">'new: %s, old: %s'</span>, val, oldVal);</div><div class="line">        this.drawChart(val);</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">      drawChart: <span class="keyword">function</span> (datas) &#123;</div><div class="line">        // å¦‚æœå›¾å½¢å­˜åœ¨åˆ™åˆ é™¤å†åˆ›å»ºï¼Œè¿™ä¸ªåœ°æ–¹æ„Ÿè§‰ç¨å¾®æœ‰ç‚¹å‘</div><div class="line">        // å…·ä½“çš„G2 apiå‡½æ•°è¯´æ˜è¯·çœ‹ä¸Šé¢æä¾›çš„å®˜ç½‘åœ°å€ï¼Œæ­¤å¤„ä¸å†é€ä¸€è¯´æ˜</div><div class="line">        this.chart &amp;&amp; this.chart.destroy();</div><div class="line">        <span class="built_in">let</span> data = datas;</div><div class="line">        this.chart = new G2.Chart(&#123;</div><div class="line">          id: this.id,</div><div class="line">          width: 1000,</div><div class="line">          height: 250</div><div class="line">        &#125;);</div><div class="line">        this.chart.source(data, &#123;</div><div class="line">          strftime: &#123;</div><div class="line">            <span class="built_in">alias</span>: <span class="string">'æ—¥æœŸ'</span>,</div><div class="line">            <span class="built_in">type</span>: <span class="string">'cat'</span>,</div><div class="line">            range: [0, 1]</div><div class="line">          &#125;,</div><div class="line">          value: &#123;</div><div class="line">            <span class="built_in">alias</span>: <span class="string">'æ•°é‡å€¼(äºº)'</span></div><div class="line">          &#125;</div><div class="line">        &#125;);</div><div class="line">        this.chart.line().position(<span class="string">'strftime*value'</span>).size(2);</div><div class="line">        this.chart.point().position(<span class="string">'strftime*value'</span>).color(<span class="string">'#757373'</span>)</div><div class="line">          .shape(<span class="string">'circle'</span>)</div><div class="line">          .label(<span class="string">'value'</span>, &#123;offset: 20, label: &#123;fill: <span class="string">'#000'</span>&#125;&#125;);</div><div class="line">        this.chart.animate(<span class="literal">false</span>);</div><div class="line">        this.chart.render();</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h3 id="App-vueå¼•å…¥ç»„ä»¶å¹¶æ¸²æŸ“å›¾è¡¨"><a href="#App-vueå¼•å…¥ç»„ä»¶å¹¶æ¸²æŸ“å›¾è¡¨" class="headerlink" title="App.vueå¼•å…¥ç»„ä»¶å¹¶æ¸²æŸ“å›¾è¡¨"></a>App.vueå¼•å…¥ç»„ä»¶å¹¶æ¸²æŸ“å›¾è¡¨</h3><p>åœ¨app.vueä¸­å¼•å…¥ä¸Šä¸€æ­¥æ–°å»ºçš„G2Line.vueç»„ä»¶ï¼Œå¹¶åŠ è½½åˆ°å½“å‰vueå®ä¾‹ä¸­<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    import G2Line from <span class="string">'./components/G2Line.vue'</span>;</div><div class="line">    <span class="built_in">export</span> default &#123;</div><div class="line">        components: &#123;</div><div class="line">            G2Line</div><div class="line">        &#125;,</div><div class="line">        <span class="function"><span class="title">data</span></span> () &#123;</div><div class="line">            <span class="built_in">return</span> &#123;</div><div class="line">                serverData: []</div><div class="line">            &#125; </div><div class="line">        &#125;,</div><div class="line">        methods: &#123;</div><div class="line">            // æ­¤å¤„çœç•¥ä»æœåŠ¡å™¨è·å–æ•°æ®å¹¶ä¸”èµ‹å€¼ç»™this.serverData</div><div class="line">            // æ¨èä½¿ç”¨axiosè¯·æ±‚æ¥å£</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>è·å–æœåŠ¡ç«¯æ•°æ®ä¹‹åï¼Œåœ¨templateä¸­åˆ›å»ºç»„ä»¶æ ‡ç­¾ï¼Œå¹¶å°†serverDataå‘é€ç»™å­ç»„ä»¶G2Line<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!--åŒæ­¥è®¾ç½®idä¼ é€ç»™å­ç»„ä»¶--&gt;</div><div class="line">&lt;g2-line :charData=<span class="string">"serverData"</span> :id=<span class="string">"'c1'"</span> id=<span class="string">"c1"</span>&gt;&lt;/g2-line&gt;</div></pre></td></tr></table></figure></p>
<h3 id="åˆ·æ–°ç•Œé¢ï¼ŒæˆåŠŸçœ‹åˆ°é¡µé¢å›¾è¡¨çš„æ¸²æŸ“"><a href="#åˆ·æ–°ç•Œé¢ï¼ŒæˆåŠŸçœ‹åˆ°é¡µé¢å›¾è¡¨çš„æ¸²æŸ“" class="headerlink" title="åˆ·æ–°ç•Œé¢ï¼ŒæˆåŠŸçœ‹åˆ°é¡µé¢å›¾è¡¨çš„æ¸²æŸ“"></a>åˆ·æ–°ç•Œé¢ï¼ŒæˆåŠŸçœ‹åˆ°é¡µé¢å›¾è¡¨çš„æ¸²æŸ“</h3><p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/g2%E6%88%AA%E5%9B%BE.gif" alt="æˆªå›¾"><br><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/g2æˆªå›¾2.gif" alt="æˆªå›¾"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Nodejsçˆ¬è™«--æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸‹ï¼‰]]></title>
      <url>https://yezihaohao.github.io/2017/02/11/Nodejs%E7%88%AC%E8%99%AB-%E6%8A%93%E5%8F%96%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%8B%EF%BC%89/</url>
      <content type="html"><![CDATA[<blockquote>
<p>æ¥ç€ä¸Šç¯‡ <a href="https://yezihaohao.github.io/2017/02/09/Nodejs%E7%88%AC%E8%99%AB-%E6%8A%93%E5%8F%96%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%8A%EF%BC%89/">Nodejsçˆ¬è™«â€“æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰</a><br>  æœ¬ç¯‡ä¸»è¦æè¿°å°†ä¸Šæ¬¡æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“<br>  å‰æï¼šç™¾åº¦æˆ–è°·æ­Œmongodbçš„å®‰è£…æ•™ç¨‹ï¼Œå®‰è£…æœ¬åœ°å¹¶æˆåŠŸè¿è¡Œ<br>  æ¨èä¸€æ¬¾mongodbæ•°æ®åº“å¯è§†åŒ–ç®¡ç†å·¥å…·ï¼šRobomongoã€‚å¯ä»¥åŠ ç¾¤264591039è·å–å®‰è£…åŒ…æˆ–è‡ªè¡Œå¯»æ‰¾èµ„æº</p>
</blockquote>
<h3 id="é¦–å…ˆç”¨npmå®‰è£…ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œåŒ…ï¼šmongoose"><a href="#é¦–å…ˆç”¨npmå®‰è£…ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œåŒ…ï¼šmongoose" class="headerlink" title="é¦–å…ˆç”¨npmå®‰è£…ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œåŒ…ï¼šmongoose."></a>é¦–å…ˆç”¨npmå®‰è£…ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œåŒ…ï¼šmongoose.</h3><p>å…³äºmongooseè¯¦æƒ…è¯·æŸ¥çœ‹<a href="http://mongoosejs.com/index.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev mongoose</div></pre></td></tr></table></figure></p>
<h3 id="å¼•å…¥mongooseåŒ…å¼€å§‹å¯¹mongodbè¿›è¡Œç®¡ç†"><a href="#å¼•å…¥mongooseåŒ…å¼€å§‹å¯¹mongodbè¿›è¡Œç®¡ç†" class="headerlink" title="å¼•å…¥mongooseåŒ…å¼€å§‹å¯¹mongodbè¿›è¡Œç®¡ç†"></a>å¼•å…¥mongooseåŒ…å¼€å§‹å¯¹mongodbè¿›è¡Œç®¡ç†</h3><p>å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmongo.jsæ–‡ä»¶æ–¹ä¾¿ç®¡ç†ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­å¼•å…¥ç›¸å…³åŒ…ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> mongoose = require(<span class="string">'mongoose'</span>),</div><div class="line">    assert = require(<span class="string">'assert'</span>);</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="è·å–è¡¨æ„é€ å™¨Schemaå¹¶æ˜ å°„mongodbç›¸åº”çš„collection"><a href="#è·å–è¡¨æ„é€ å™¨Schemaå¹¶æ˜ å°„mongodbç›¸åº”çš„collection" class="headerlink" title="è·å–è¡¨æ„é€ å™¨Schemaå¹¶æ˜ å°„mongodbç›¸åº”çš„collection"></a>è·å–è¡¨æ„é€ å™¨Schemaå¹¶æ˜ å°„mongodbç›¸åº”çš„collection</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> Schema = mongoose.Schema;</div><div class="line"></div><div class="line"><span class="built_in">let</span> filmSchema = new Schema(&#123;       //è‡ªå®šä¹‰ç›¸åº”çš„è¡¨æ•°æ®å­—æ®µ</div><div class="line">        title: String,</div><div class="line">        <span class="built_in">type</span>: String,</div><div class="line">        directories: String,</div><div class="line">        scriptwriter: String,</div><div class="line">        actors: String</div><div class="line">    &#125;);</div><div class="line">//æ˜ å°„collectionå¹¶ç”Ÿæˆmodelå¯¹è±¡ç”¨äºç®¡ç†æ•°æ®è¡¨çš„å¢åˆ æ”¹æŸ¥</div><div class="line">//é»˜è®¤æ˜¯æ˜ å°„åˆ°åä¸ºfilmsçš„collection</div><div class="line">//è‹¥è‡ªå®šä¹‰è¡¨æ˜åˆ™ï¼š<span class="built_in">let</span> filmSchema = new Schema(&#123;..&#125;, &#123; collection: <span class="string">'data'</span> &#125;);  <span class="string">'data'</span>å³ä¸ºè‡ªå®šä¹‰åç§°</div><div class="line"><span class="built_in">let</span> Film = mongoose.model(<span class="string">'Film'</span>, filmSchema);</div></pre></td></tr></table></figure>
<h3 id="è¿æ¥mongodbæ•°æ®åº“å¹¶exports-Filmå¯¹è±¡"><a href="#è¿æ¥mongodbæ•°æ®åº“å¹¶exports-Filmå¯¹è±¡" class="headerlink" title="è¿æ¥mongodbæ•°æ®åº“å¹¶exports Filmå¯¹è±¡"></a>è¿æ¥mongodbæ•°æ®åº“å¹¶exports Filmå¯¹è±¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> db = mongoose.connect(<span class="string">'mongodb://127.0.0.1:27017/spider'</span>);</div><div class="line">db.connection.on(<span class="string">'error'</span>, (err) =&gt; &#123;</div><div class="line">    console.log(`æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š<span class="variable">$&#123;err&#125;</span>`);</div><div class="line">&#125;);</div><div class="line">db.connection.on(<span class="string">'open'</span>, () =&gt; &#123;</div><div class="line">    console.log(<span class="string">'æ•°æ®åº“è¿æ¥æˆåŠŸ'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">module.exports = &#123;Film: Film&#125;;</div></pre></td></tr></table></figure>
<h3 id="åœ¨spider-jsä¸­å¼•å…¥Filmå¯¹è±¡å¹¶æ·»åŠ å…¥åº“æ“ä½œä»£ç "><a href="#åœ¨spider-jsä¸­å¼•å…¥Filmå¯¹è±¡å¹¶æ·»åŠ å…¥åº“æ“ä½œä»£ç " class="headerlink" title="åœ¨spider.jsä¸­å¼•å…¥Filmå¯¹è±¡å¹¶æ·»åŠ å…¥åº“æ“ä½œä»£ç "></a>åœ¨spider.jsä¸­å¼•å…¥Filmå¯¹è±¡å¹¶æ·»åŠ å…¥åº“æ“ä½œä»£ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> mongo = require(<span class="string">'./mongo'</span>);</div><div class="line">//åœ¨è¯·æ±‚ç½‘é¡µçš„endå‡½æ•°ä¸­æ·»åŠ å…¥åº“æ“ä½œ</div><div class="line">xxxx.end((err, res) =&gt; &#123;</div><div class="line">    var $ = cheerio.load(res.text);     //ç”¨cheerioè·å–æ•´ä¸ªé¡µé¢DOMå¯¹è±¡</div><div class="line">    var _data = &#123;title:<span class="string">''</span>, <span class="built_in">type</span>: <span class="string">''</span>, directories: <span class="string">''</span>, scriptwriter: <span class="string">''</span>, actors: <span class="string">''</span>&#125;;</div><div class="line">    _data.title = $(<span class="string">'#content h1 span'</span>).text();</div><div class="line">    _data.directories = $(<span class="string">'#info .attrs'</span>).eq(0).text();</div><div class="line">    _data.scriptwriter = $(<span class="string">'#info .attrs'</span>).eq(1).text();</div><div class="line">    _data.actors = $(<span class="string">'#info .attrs'</span>).eq(2).text();</div><div class="line">    $(<span class="string">'span[property="v:genre"]'</span>).each(<span class="keyword">function</span> (index) &#123;</div><div class="line">        _data.type += ($(this).text() + (index == $(<span class="string">'span[property="v:genre"]'</span>).length - 1 ? <span class="string">''</span> : <span class="string">'ã€'</span>));</div><div class="line">    &#125;);</div><div class="line">    console.log(_data);</div><div class="line">    mongo.Film.create(_data, (err, doc) =&gt; &#123;</div><div class="line">                        assert.equal(err, null);</div><div class="line">                        console.log(doc);</div><div class="line">                    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="è¿è¡Œspider-jsï¼Œå¹¶æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®"><a href="#è¿è¡Œspider-jsï¼Œå¹¶æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®" class="headerlink" title="è¿è¡Œspider.jsï¼Œå¹¶æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®"></a>è¿è¡Œspider.jsï¼Œå¹¶æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">node spider.js</div><div class="line">//ç”¨ä¸Šè¿°æåˆ°çš„å¯è§†åŒ–å·¥å…·æŸ¥çœ‹æ•°æ®åº“æ˜¯å¦æˆåŠŸæœ‰æ•°æ®å…¥åº“</div></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/yezihaohao/yezihaohao.github.io/master/imgs/QQ%E6%88%AA%E5%9B%BE20170211120738.png" alt="æ•°æ®åº“æˆªå›¾"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Javascriptæ­£åˆ™è¡¨è¾¾å¼æ•´åˆ]]></title>
      <url>https://yezihaohao.github.io/2017/02/10/Javascript%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%95%B4%E5%90%88/</url>
      <content type="html"><![CDATA[<h2 id="é¡¹ç›®ä¸­å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ•´åˆå¤§å…¨"><a href="#é¡¹ç›®ä¸­å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ•´åˆå¤§å…¨" class="headerlink" title="é¡¹ç›®ä¸­å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ•´åˆå¤§å…¨"></a>é¡¹ç›®ä¸­å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ•´åˆå¤§å…¨</h2><h3 id="æå–ç½‘é¡µæ ‡ç­¾å†…å®¹"><a href="#æå–ç½‘é¡µæ ‡ç­¾å†…å®¹" class="headerlink" title="æå–ç½‘é¡µæ ‡ç­¾å†…å®¹"></a>æå–ç½‘é¡µæ ‡ç­¾å†…å®¹</h3><h4 id="ä¸€-å•ä¸ªæ ‡ç­¾æå–"><a href="#ä¸€-å•ä¸ªæ ‡ç­¾æå–" class="headerlink" title="ä¸€.å•ä¸ªæ ‡ç­¾æå–"></a>ä¸€.å•ä¸ªæ ‡ç­¾æå–</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">let</span> str = `&lt;a class=<span class="string">"menu"</span>&gt;GitHub&lt;/a&gt;`;</div><div class="line"></div><div class="line"><span class="built_in">let</span> content = str.match(/&lt;a class=<span class="string">"menu"</span>&gt;([\s\S]+)&lt;\/a&gt;/)[1];</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="ä¸å®šæ—¶æ›´æ–°ä¸­â€¦"><a href="#ä¸å®šæ—¶æ›´æ–°ä¸­â€¦" class="headerlink" title="ä¸å®šæ—¶æ›´æ–°ä¸­â€¦"></a>ä¸å®šæ—¶æ›´æ–°ä¸­â€¦</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Nodejsçˆ¬è™«--æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰]]></title>
      <url>https://yezihaohao.github.io/2017/02/09/Nodejs%E7%88%AC%E8%99%AB-%E6%8A%93%E5%8F%96%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%8A%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>ä¹‹å‰å†™äº†ä¸€ä¸ªnodejsçš„å¼€æºçˆ¬è™«å°é¡¹ç›®ï¼Œè¡¥ä¸Šåšå®¢è¯¦ç»†è§£æä¸‹ä»£ç ã€‚</p>
<p><code>PSï¼š</code>å…±æœ‰ä¸Šä¸‹ä¸¤ç¯‡ï¼Œç¬¬ä¸€ç¯‡è®²ä»ç½‘ç«™ä¸ŠæŠ“å–æ•°æ®ï¼Œç¬¬äºŒç¯‡è®²å°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ã€‚</p>
<h2 id="æˆ‘ä»¬å¿«é€Ÿå¼€å§‹å§"><a href="#æˆ‘ä»¬å¿«é€Ÿå¼€å§‹å§" class="headerlink" title="æˆ‘ä»¬å¿«é€Ÿå¼€å§‹å§"></a>æˆ‘ä»¬å¿«é€Ÿå¼€å§‹å§</h2><h3 id="é¦–å…ˆï¼Œå®‰è£…nodejsï¼Œç„¶åç”¨npmå·¥å…·åˆå§‹åŒ–èµ„æºç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage-json"><a href="#é¦–å…ˆï¼Œå®‰è£…nodejsï¼Œç„¶åç”¨npmå·¥å…·åˆå§‹åŒ–èµ„æºç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage-json" class="headerlink" title="é¦–å…ˆï¼Œå®‰è£…nodejsï¼Œç„¶åç”¨npmå·¥å…·åˆå§‹åŒ–èµ„æºç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage.json"></a>é¦–å…ˆï¼Œå®‰è£…nodejsï¼Œç„¶åç”¨npmå·¥å…·åˆå§‹åŒ–èµ„æºç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage.json</h3><p>æ–°å»ºspideræ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢åˆå§‹åŒ–package.json<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure></p>
<h3 id="ç„¶åç”¨npmå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š"><a href="#ç„¶åç”¨npmå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š" class="headerlink" title="ç„¶åç”¨npmå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š"></a>ç„¶åç”¨npmå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev superagent cheerio eventproxy <span class="keyword">async</span></div></pre></td></tr></table></figure>
<p>åœ¨æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºspider.js, åœ¨æ–‡ä»¶ä¸­å¼•å…¥éœ€è¦ç”¨åˆ°çš„nodejsæ¨¡å—å¦‚ä¸‹(å…·ä½“ç”¨æ³•è¯·æŸ¥è¯¢ç½‘ä¸Šç›¸å…³èµ„æ–™)ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> superagent = <span class="built_in">require</span>(<span class="string">'superagent'</span>),     <span class="comment">//nodejsé‡Œé¢ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å®¢æˆ·ç«¯ä»£ç†è¯·æ±‚æ¨¡å—ï¼Œæ”¯æŒget,post,put,deleteç­‰</span></div><div class="line">    cheerio = <span class="built_in">require</span>(<span class="string">'cheerio'</span>),           <span class="comment">//ç±»ä¼¼äºjQueryçš„DOMæ“ä½œæ¨¡å—ï¼Œå¯ä»¥æå–htmlä¸­æƒ³è¦çš„ä¿¡æ¯</span></div><div class="line">    eventproxy = <span class="built_in">require</span>(<span class="string">'eventproxy'</span>),     <span class="comment">//æ§åˆ¶å¼‚æ­¥è¯·æ±‚å¹¶å‘ï¼Œå¯ä»¥ç›‘å¬è¯·æ±‚ï¼Œä½¿å¾—æŸäº›è¯·æ±‚å®Œæ¯•ä¹‹ååœ¨å‘é€è¯·æ±‚</span></div><div class="line">    assert = <span class="built_in">require</span>(<span class="string">'assert'</span>),             <span class="comment">//å¼‚å¸¸æŠ›å‡ºåˆ¤æ–­æ¨¡å—ï¼Œassert.equal(err, null);  å¦‚æœerrä¸ä¸ºnull,åˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸</span></div><div class="line">    <span class="keyword">async</span> = <span class="built_in">require</span>(<span class="string">'async'</span>);              <span class="comment">//æ§åˆ¶è¯·æ±‚å¹¶å‘è¿æ¥æ•°</span></div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="ç”¨superagentè¯·æ±‚è±†ç“£çš„æŸä¸ªæ¥å£ï¼Œå¹¶æŠŠæ‰€æœ‰çš„é¡µé¢é“¾æ¥æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œç”¨eventproxyæ§åˆ¶ç›‘å¬è¯¥è¯·æ±‚ç»“æŸä¹‹åæ‰å¼€å§‹è¯·æ±‚ç›¸åº”çš„è¯¦æƒ…é¡µé¢ã€‚"><a href="#ç”¨superagentè¯·æ±‚è±†ç“£çš„æŸä¸ªæ¥å£ï¼Œå¹¶æŠŠæ‰€æœ‰çš„é¡µé¢é“¾æ¥æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œç”¨eventproxyæ§åˆ¶ç›‘å¬è¯¥è¯·æ±‚ç»“æŸä¹‹åæ‰å¼€å§‹è¯·æ±‚ç›¸åº”çš„è¯¦æƒ…é¡µé¢ã€‚" class="headerlink" title="ç”¨superagentè¯·æ±‚è±†ç“£çš„æŸä¸ªæ¥å£ï¼Œå¹¶æŠŠæ‰€æœ‰çš„é¡µé¢é“¾æ¥æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œç”¨eventproxyæ§åˆ¶ç›‘å¬è¯¥è¯·æ±‚ç»“æŸä¹‹åæ‰å¼€å§‹è¯·æ±‚ç›¸åº”çš„è¯¦æƒ…é¡µé¢ã€‚"></a>ç”¨superagentè¯·æ±‚è±†ç“£çš„æŸä¸ªæ¥å£ï¼Œå¹¶æŠŠæ‰€æœ‰çš„é¡µé¢é“¾æ¥æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œç”¨eventproxyæ§åˆ¶ç›‘å¬è¯¥è¯·æ±‚ç»“æŸä¹‹åæ‰å¼€å§‹è¯·æ±‚ç›¸åº”çš„è¯¦æƒ…é¡µé¢ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">superagent.get(URL)</div><div class="line">    .end(<span class="function">(<span class="params">err, res</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> _pageUrls = [];</div><div class="line">        res.body.forEach(<span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</div><div class="line">           _pageUrls.push(val.url);</div><div class="line">        &#125;);</div><div class="line">        ep.emit(<span class="string">'pageUrls'</span>, _pageUrls);   <span class="comment">//ç›‘å¬ç›¸å…³å®ä¾‹ï¼Œå®Œæˆä¹‹åå‘Šè¯‰pageUrls</span></div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
<h3 id="ç›‘å¬äº‹ä»¶å®Œæˆä¹‹åï¼Œæ‰§è¡Œè¯·æ±‚ç›¸åº”çš„è±†ç“£ç”µå½±è¯¦æƒ…é¡µé¢-å¹¶ç”¨asyncæ§åˆ¶è¯·æ±‚çš„å¹¶å‘é‡ï¼Œå¯ä»¥é™ä½è¯·æ±‚çš„é¢‘ç‡å’Œé€Ÿåº¦"><a href="#ç›‘å¬äº‹ä»¶å®Œæˆä¹‹åï¼Œæ‰§è¡Œè¯·æ±‚ç›¸åº”çš„è±†ç“£ç”µå½±è¯¦æƒ…é¡µé¢-å¹¶ç”¨asyncæ§åˆ¶è¯·æ±‚çš„å¹¶å‘é‡ï¼Œå¯ä»¥é™ä½è¯·æ±‚çš„é¢‘ç‡å’Œé€Ÿåº¦" class="headerlink" title="ç›‘å¬äº‹ä»¶å®Œæˆä¹‹åï¼Œæ‰§è¡Œè¯·æ±‚ç›¸åº”çš„è±†ç“£ç”µå½±è¯¦æƒ…é¡µé¢.å¹¶ç”¨asyncæ§åˆ¶è¯·æ±‚çš„å¹¶å‘é‡ï¼Œå¯ä»¥é™ä½è¯·æ±‚çš„é¢‘ç‡å’Œé€Ÿåº¦"></a>ç›‘å¬äº‹ä»¶å®Œæˆä¹‹åï¼Œæ‰§è¡Œè¯·æ±‚ç›¸åº”çš„è±†ç“£ç”µå½±è¯¦æƒ…é¡µé¢.å¹¶ç”¨asyncæ§åˆ¶è¯·æ±‚çš„å¹¶å‘é‡ï¼Œå¯ä»¥é™ä½è¯·æ±‚çš„é¢‘ç‡å’Œé€Ÿåº¦</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> ep = eventproxy.create(<span class="string">'pageUrls'</span>, (pageUrls) =&gt; &#123;      <span class="comment">//åˆ›å»ºä¸€ä¸ªç›‘å¬å®ä¾‹</span></div><div class="line">    <span class="keyword">let</span> _http = <span class="function">(<span class="params">url, callback</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> _delay = <span class="built_in">parseInt</span>((<span class="built_in">Math</span>.random() * <span class="number">30000000</span>) % <span class="number">1000</span>, <span class="number">10</span>);   <span class="comment">//éšæœºå»¶æ—¶è¯·æ±‚</span></div><div class="line">        superagent.get(url)</div><div class="line">            .end(<span class="function">(<span class="params">err, res</span>) =&gt;</span> &#123;</div><div class="line">                <span class="keyword">var</span> $ = cheerio.load(res.text);     <span class="comment">//ç”¨cheerioè·å–æ•´ä¸ªé¡µé¢DOMå¯¹è±¡</span></div><div class="line">                <span class="keyword">var</span> _data = &#123;<span class="attr">title</span>:<span class="string">''</span>, <span class="attr">type</span>: <span class="string">''</span>, <span class="attr">directories</span>: <span class="string">''</span>, <span class="attr">scriptwriter</span>: <span class="string">''</span>, <span class="attr">actors</span>: <span class="string">''</span>&#125;;</div><div class="line">                _data.title = $(<span class="string">'#content h1 span'</span>).text();</div><div class="line">                _data.directories = $(<span class="string">'#info .attrs'</span>).eq(<span class="number">0</span>).text();</div><div class="line">                _data.scriptwriter = $(<span class="string">'#info .attrs'</span>).eq(<span class="number">1</span>).text();</div><div class="line">                _data.actors = $(<span class="string">'#info .attrs'</span>).eq(<span class="number">2</span>).text();</div><div class="line">                $(<span class="string">'span[property="v:genre"]'</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>&#123;</div><div class="line">                    _data.type += ($(<span class="keyword">this</span>).text() + (index == $(<span class="string">'span[property="v:genre"]'</span>).length - <span class="number">1</span> ? <span class="string">''</span> : <span class="string">'ã€'</span>));</div><div class="line">                &#125;);</div><div class="line">                <span class="built_in">console</span>.log(_data);</div><div class="line">            &#125;);</div><div class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">            callback(<span class="literal">null</span>, url);</div><div class="line">        &#125;, _delay);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">async</span>.mapLimit(pageUrls, <span class="number">3</span>, (url, callback) =&gt; &#123;  <span class="comment">//ç”¨async çš„ mapLimit(arr, limit, iterator, callback) æ¥å£æ§åˆ¶è¯·æ±‚å¹¶å‘é‡ä¸º3</span></div><div class="line">        _http(url, callback);</div><div class="line">    &#125;, (err, res) =&gt; &#123;</div><div class="line">        assert.equal(err, <span class="literal">null</span>);</div><div class="line">    &#125;)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="æœ¬ç« èŠ‚ç»“æŸï¼Œæœªå®Œå¾…ç»­â€¦ä¸‹æœŸæ˜¯æ€ä¹ˆå°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ï¼"><a href="#æœ¬ç« èŠ‚ç»“æŸï¼Œæœªå®Œå¾…ç»­â€¦ä¸‹æœŸæ˜¯æ€ä¹ˆå°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ï¼" class="headerlink" title="æœ¬ç« èŠ‚ç»“æŸï¼Œæœªå®Œå¾…ç»­â€¦ä¸‹æœŸæ˜¯æ€ä¹ˆå°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ï¼"></a>æœ¬ç« èŠ‚ç»“æŸï¼Œæœªå®Œå¾…ç»­â€¦ä¸‹æœŸæ˜¯æ€ä¹ˆå°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ï¼</h2>]]></content>
    </entry>
    
  
  
</search>
