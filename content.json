{"meta":{"title":"å‰ç«¯åšå®¢","subtitle":"å‰ç«¯åˆ†äº«","description":"å­¦ä¹ æ€»ç»“ æ€è€ƒæ„Ÿæ‚Ÿ","author":"chenghao","url":"https://yezihaohao.github.io"},"pages":[{"title":"Hello World","date":"un44fin44","updated":"un44fin44","path":"hello-world.html","permalink":"https://yezihaohao.github.io/hello-world.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment"},{"title":"about","date":"un44fin44","updated":"un44fin44","path":"about/index.html","permalink":"https://yezihaohao.github.io/about/index.html","excerpt":"","text":"å…³äºæµ‹è¯•å‘µå‘µæˆ‘åªæ˜¯æƒ³å®‰é™åœ°å†™å‰ç«¯"},{"title":"categories","date":"un44fin44","updated":"un44fin44","path":"categories/index.html","permalink":"https://yezihaohao.github.io/categories/index.html","excerpt":"","text":""},{"title":"imgs","date":"un66fin66","updated":"un66fin66","path":"imgs/index.html","permalink":"https://yezihaohao.github.io/imgs/index.html","excerpt":"","text":""},{"title":"tags","date":"un44fin44","updated":"un44fin44","path":"tags/index.html","permalink":"https://yezihaohao.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"React+AntDåå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ--ç»ˆæç‰ˆ","slug":"React-AntDåå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ-ç»ˆæç‰ˆ","date":"un22fin22","updated":"un22fin22","path":"2017/05/09/React-AntDåå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ-ç»ˆæç‰ˆ/","link":"","permalink":"https://yezihaohao.github.io/2017/05/09/React-AntDåå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ-ç»ˆæç‰ˆ/","excerpt":"å‰è¨€ ç½‘ä¸Šreactåå°ç®¡ç†å¼€æºå…è´¹çš„å®Œæ•´ç‰ˆé¡¹ç›®æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥åˆ©ç”¨ç©ºä½™æ—¶é—´é›†æˆäº†ä¸€ä¸ªç‰ˆæœ¬å‡ºæ¥ï¼Œå·²æ”¾åˆ°GitHub å¯åŠ¨å’Œæ‰“åŒ…çš„æ—¶é—´éƒ½ç¨é•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ä¸¤åˆ†é’Ÿ GitHubåœ°å€ é¢„è§ˆåœ°å€(è¿˜æ²¡åšå“åº”å¼ï¼Œä¸å»ºè®®æ‰‹æœºé¢„è§ˆğŸ˜•) ä¾èµ–æ¨¡å—é¡¹ç›®æ˜¯ç”¨create-react-appåˆ›å»ºçš„ï¼Œä¸»è¦è¿˜æ˜¯åˆ—å‡ºæ–°åŠ çš„åŠŸèƒ½ä¾èµ–åŒ… ç‚¹å‡»åç§°å¯è·³è½¬ç›¸å…³ç½‘ç«™ğŸ˜„ğŸ˜„ react@15.5.0 react-router@3.0.2(reactè·¯ç”±,4.xçš„å·®å¼‚è¿˜æ˜¯æ¯”è¾ƒå¤§ï¼Œæš‚æ—¶è¿˜æ˜¯3.xçš„ç‰ˆæœ¬) antd@2.9.3(èš‚èšé‡‘æœå¼€æºçš„react uiç»„ä»¶æ¡†æ¶) axios@0.16.1(httpè¯·æ±‚æ¨¡å—ï¼Œå¯ç”¨äºå‰ç«¯ä»»ä½•åœºæ™¯ï¼Œå¾ˆå¼ºå¤§ğŸ‘) echarts-for-react@1.2.0(å¯è§†åŒ–å›¾è¡¨ï¼Œåˆ«äººåŸºäºreactå¯¹echartsçš„å°è£…ï¼Œè¶³å¤Ÿç”¨äº†) recharts@0.22.3(å¦ä¸€ä¸ªåŸºäºreactå°è£…çš„å›¾è¡¨ï¼Œä¸ªäººè§‰å¾—æ˜¯æ²¡æœ‰echartså¥½ç”¨) nprogress@0.2.0(é¡¶éƒ¨åŠ è½½æ¡ï¼Œè›®å¥½ç”¨ğŸ‘) react-draft-wysiwyg@1.9.6(åˆ«äººåŸºäºreactçš„å¯Œæ–‡æœ¬å°è£…ï¼Œå¦‚æœæ‰¾åˆ°å…¶ä»–æ›´å¥½çš„å¯ä»¥æ›¿æ¢) react-draggable@2.2.4(æ‹–æ‹½æ¨¡å—ï¼Œæ‰¾äº†ä¸ªç®€å•ç‰ˆçš„) screenfull@3.2.0(å…¨å±æ’ä»¶) photoswipe@4.1.2(å›¾ç‰‡å¼¹å±‚æŸ¥çœ‹æ’ä»¶ï¼Œä¸ä¾èµ–jQueryï¼Œè¿˜æ˜¯è›®å¥½ç”¨ğŸ‘) animate.css@3.5.1(cssåŠ¨ç”»åº“) å…¶ä»–å°ç»†èŠ‚çœç•¥ åŠŸèƒ½æ¨¡å—å¤‡æ³¨ï¼šé¡¹ç›®åªå¼•å…¥äº†ant-designçš„éƒ¨åˆ†ç»„ä»¶ï¼Œå…¶ä»–çš„ç»„ä»¶antdå®˜ç½‘æœ‰æºç ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåç»­æœ‰æ—¶é—´è¡¥ä¸Šå…¨éƒ¨ç»„ä»¶ã€‚é¡¹ç›®ä½¿ç”¨äº†antdçš„è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½â€“&gt;é»‘è‰²ï¼Œè‹¥æƒ³æ›¿æ¢å…¶ä»–é¢œè‰²ï¼Œå…·ä½“æ“ä½œè¯·æŸ¥çœ‹antdå®˜ç½‘","text":"å‰è¨€ ç½‘ä¸Šreactåå°ç®¡ç†å¼€æºå…è´¹çš„å®Œæ•´ç‰ˆé¡¹ç›®æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥åˆ©ç”¨ç©ºä½™æ—¶é—´é›†æˆäº†ä¸€ä¸ªç‰ˆæœ¬å‡ºæ¥ï¼Œå·²æ”¾åˆ°GitHub å¯åŠ¨å’Œæ‰“åŒ…çš„æ—¶é—´éƒ½ç¨é•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ä¸¤åˆ†é’Ÿ GitHubåœ°å€ é¢„è§ˆåœ°å€(è¿˜æ²¡åšå“åº”å¼ï¼Œä¸å»ºè®®æ‰‹æœºé¢„è§ˆğŸ˜•) ä¾èµ–æ¨¡å—é¡¹ç›®æ˜¯ç”¨create-react-appåˆ›å»ºçš„ï¼Œä¸»è¦è¿˜æ˜¯åˆ—å‡ºæ–°åŠ çš„åŠŸèƒ½ä¾èµ–åŒ… ç‚¹å‡»åç§°å¯è·³è½¬ç›¸å…³ç½‘ç«™ğŸ˜„ğŸ˜„ react@15.5.0 react-router@3.0.2(reactè·¯ç”±,4.xçš„å·®å¼‚è¿˜æ˜¯æ¯”è¾ƒå¤§ï¼Œæš‚æ—¶è¿˜æ˜¯3.xçš„ç‰ˆæœ¬) antd@2.9.3(èš‚èšé‡‘æœå¼€æºçš„react uiç»„ä»¶æ¡†æ¶) axios@0.16.1(httpè¯·æ±‚æ¨¡å—ï¼Œå¯ç”¨äºå‰ç«¯ä»»ä½•åœºæ™¯ï¼Œå¾ˆå¼ºå¤§ğŸ‘) echarts-for-react@1.2.0(å¯è§†åŒ–å›¾è¡¨ï¼Œåˆ«äººåŸºäºreactå¯¹echartsçš„å°è£…ï¼Œè¶³å¤Ÿç”¨äº†) recharts@0.22.3(å¦ä¸€ä¸ªåŸºäºreactå°è£…çš„å›¾è¡¨ï¼Œä¸ªäººè§‰å¾—æ˜¯æ²¡æœ‰echartså¥½ç”¨) nprogress@0.2.0(é¡¶éƒ¨åŠ è½½æ¡ï¼Œè›®å¥½ç”¨ğŸ‘) react-draft-wysiwyg@1.9.6(åˆ«äººåŸºäºreactçš„å¯Œæ–‡æœ¬å°è£…ï¼Œå¦‚æœæ‰¾åˆ°å…¶ä»–æ›´å¥½çš„å¯ä»¥æ›¿æ¢) react-draggable@2.2.4(æ‹–æ‹½æ¨¡å—ï¼Œæ‰¾äº†ä¸ªç®€å•ç‰ˆçš„) screenfull@3.2.0(å…¨å±æ’ä»¶) photoswipe@4.1.2(å›¾ç‰‡å¼¹å±‚æŸ¥çœ‹æ’ä»¶ï¼Œä¸ä¾èµ–jQueryï¼Œè¿˜æ˜¯è›®å¥½ç”¨ğŸ‘) animate.css@3.5.1(cssåŠ¨ç”»åº“) å…¶ä»–å°ç»†èŠ‚çœç•¥ åŠŸèƒ½æ¨¡å—å¤‡æ³¨ï¼šé¡¹ç›®åªå¼•å…¥äº†ant-designçš„éƒ¨åˆ†ç»„ä»¶ï¼Œå…¶ä»–çš„ç»„ä»¶antdå®˜ç½‘æœ‰æºç ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåç»­æœ‰æ—¶é—´è¡¥ä¸Šå…¨éƒ¨ç»„ä»¶ã€‚é¡¹ç›®ä½¿ç”¨äº†antdçš„è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½â€“&gt;é»‘è‰²ï¼Œè‹¥æƒ³æ›¿æ¢å…¶ä»–é¢œè‰²ï¼Œå…·ä½“æ“ä½œè¯·æŸ¥çœ‹antdå®˜ç½‘ é¦–é¡µ å®Œæ•´å¸ƒå±€ æ¢è‚¤(å…¨å±€åŠŸèƒ½ï¼Œæš‚æ—¶åªå®ç°äº†é¡¶éƒ¨å¯¼èˆªçš„æ¢è‚¤ï¼Œåç»­åŠ ä¸Šå…¶ä»–æ¨¡å—) å¯¼èˆªèœå• é¡¶éƒ¨å¯¼èˆª(èœå•ä¼¸ç¼©ï¼Œå…¨å±åŠŸèƒ½) å·¦è¾¹èœå•(å¢åŠ æ»šåŠ¨æ¡ä»¥åŠé€‚é…è·¯ç”±çš„activeæ“ä½œ) UIæ¨¡å— æŒ‰é’®(antdç»„ä»¶) å›¾æ ‡(antdç»„ä»¶å¹¶å¢åŠ å½©è‰²è¡¨æƒ…ç¬¦) åŠ è½½ä¸­(antdç»„ä»¶å¹¶å¢åŠ é¡¶éƒ¨åŠ è½½æ¡) é€šçŸ¥æé†’æ¡†(antdç»„ä»¶) æ ‡ç­¾é¡µ(antdç»„ä»¶) è½®æ’­å›¾(antåŠ¨æ•ˆç»„ä»¶) å¯Œæ–‡æœ¬ æ‹–æ‹½ ç”»å»Š åŠ¨ç”» åŸºç¡€åŠ¨ç”»(animate.cssæ‰€æœ‰åŠ¨ç”») åŠ¨ç”»æ¡ˆä¾‹ è¡¨æ ¼ åŸºç¡€è¡¨æ ¼(antdç»„ä»¶) é«˜çº§è¡¨æ ¼(antdç»„ä»¶) å¼‚æ­¥è¡¨æ ¼(æ•°æ®æ¥è‡ªæ˜é‡‘é…±çš„æ¥å£) è¡¨å• åŸºç¡€è¡¨å•(antdç»„ä»¶) å›¾è¡¨ echartså›¾è¡¨ rechartså›¾è¡¨ é¡µé¢ ç™»å½•é¡µé¢(åŒ…æ‹¬GitHubç¬¬ä¸‰æ–¹ç™»å½•) 404é¡µé¢ åŠŸèƒ½æˆªå›¾é¦–é¡µ æŒ‰é’®å›¾æ ‡ç­‰ è½®æ’­å›¾ å¯Œæ–‡æœ¬ æ‹–æ‹½ ç”»å»Š åŠ¨ç”» è¡¨æ ¼ è¡¨å• å›¾è¡¨ é¡µé¢ ä»£ç ç›®å½•123456789101112131415161718192021222324252627282930313233343536+-- build/ ---æ‰“åŒ…çš„æ–‡ä»¶ç›®å½•+-- config/ ---npm run eject åçš„é…ç½®æ–‡ä»¶ç›®å½•+-- node_modules/ ---npmä¸‹è½½æ–‡ä»¶ç›®å½•+-- public/ | --- index.html ---é¦–é¡µå…¥å£htmlæ–‡ä»¶| --- npm.json ---echartsæµ‹è¯•æ•°æ®| --- weibo.json ---echartsæµ‹è¯•æ•°æ®+-- src/ ---æ ¸å¿ƒä»£ç ç›®å½•| +-- axios ---httpè¯·æ±‚å­˜æ”¾ç›®å½•| | --- index.js| +-- components ---å„å¼å„æ ·çš„ç»„ä»¶å­˜æ”¾ç›®å½•| | +-- animation ---åŠ¨ç”»ç»„ä»¶| | | --- ... | | +-- charts ---å›¾è¡¨ç»„ä»¶| | | --- ... | | +-- dashboard ---é¦–é¡µç»„ä»¶| | | --- ... | | +-- forms ---è¡¨å•ç»„ä»¶| | | --- ... | | +-- pages ---é¡µé¢ç»„ä»¶| | | --- ... | | +-- tables ---è¡¨æ ¼ç»„ä»¶| | | --- ... | | +-- ui ---uiç»„ä»¶| | | --- ... | | --- BreadcrumbCustom.jsx ---é¢åŒ…å±‘ç»„ä»¶| | --- HeaderCustom.jsx ---é¡¶éƒ¨å¯¼èˆªç»„ä»¶| | --- Page.jsx ---é¡µé¢å®¹å™¨| | --- SiderCustom.jsx ---å·¦è¾¹èœå•ç»„ä»¶| +-- style ---é¡¹ç›®çš„æ ·å¼å­˜æ”¾ç›®å½•ï¼Œä¸»è¦é‡‡ç”¨lessç¼–å†™| +-- utils ---å·¥å…·æ–‡ä»¶å­˜æ”¾ç›®å½•| --- App.js ---ç»„ä»¶å…¥å£æ–‡ä»¶| --- index.js ---é¡¹ç›®çš„æ•´ä½“jså…¥å£æ–‡ä»¶ï¼ŒåŒ…æ‹¬è·¯ç”±é…ç½®ç­‰--- .env ---å¯åŠ¨é¡¹ç›®è‡ªå®šä¹‰ç«¯å£é…ç½®æ–‡ä»¶--- .eslintrc ---è‡ªå®šä¹‰eslinté…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å¢åŠ çš„react jsxè¯­æ³•é™åˆ¶--- package.json å®‰è£…è¿è¡Œ1.ä¸‹è½½æˆ–å…‹éš†é¡¹ç›®æºç 2.npmå®‰è£…ç›¸å…³åŒ…æ–‡ä»¶(å›½å†…å»ºè®®å¢åŠ æ·˜å®é•œåƒæºï¼Œä¸ç„¶å¾ˆæ…¢ï¼Œä½ æ‡‚çš„ğŸ˜)1npm i 3.å¯åŠ¨é¡¹ç›®1npm start 4.æ‰“åŒ…é¡¹ç›®1npm run build ç»“å°¾è¯¥é¡¹ç›®ä¼šä¸å®šæ—¶æ›´æ–°ï¼Œåç»­æ—¶é—´ä¼šæ·»åŠ æ›´å¤šçš„æ¨¡å— è‹¥æœ‰é—®é¢˜ï¼Œå¯åŠ QQç¾¤264591039ä¸æˆ‘äº¤æµ å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œç»™ä¸ªstarå“Ÿ~~â¤ï¸â¤ï¸â¤ï¸â¤ï¸","categories":[],"tags":[{"name":"React","slug":"React","permalink":"https://yezihaohao.github.io/tags/React/"}]},{"title":"Reacté¡¹ç›®ç¬”è®°ä¹‹create-react-appè‡ªå®šä¹‰ESLinté…ç½®æ–‡ä»¶","slug":"Reacté¡¹ç›®ç¬”è®°-create-react-appè‡ªå®šä¹‰ESLinté…ç½®æ–‡ä»¶","date":"un00fin00","updated":"un11fin11","path":"2017/03/26/Reacté¡¹ç›®ç¬”è®°-create-react-appè‡ªå®šä¹‰ESLinté…ç½®æ–‡ä»¶/","link":"","permalink":"https://yezihaohao.github.io/2017/03/26/Reacté¡¹ç›®ç¬”è®°-create-react-appè‡ªå®šä¹‰ESLinté…ç½®æ–‡ä»¶/","excerpt":"å‰è¨€ äº†è§£eslintåŸºç¡€ç”¨æ³•ï¼Œè‹¥æƒ³æ›´è¿›ä¸€æ­¥äº†è§£å…¶ï¼Œè¯·æŸ¥é˜…å®˜ç½‘ä»¥åŠç›¸å…³èµ„æ–™(ä¸­æ–‡ç½‘) è‹¥æœ‰é—®é¢˜è¯·æŒ‡å‡ºæˆ–åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚ åˆå§‹åŒ–é¡¹ç›®ä½¿ç”¨create-react-app åˆ›å»ºé¡¹ç›®ï¼ˆæ­¤è¿‡ç¨‹ä¸åšè¯¦è§£ï¼‰ï¼Œç„¶åè¿è¡Œnpm run ejectä½¿å…¶æš´éœ²webpackç­‰é…ç½®æ–‡ä»¶ è‡ªå®šä¹‰eslintä¸Šè¿°æ­¥éª¤å¹¶æ²¡æœ‰æš´éœ²reactè„šæ‰‹æ¶å°è£…çš„eslintæ“ä½œï¼Œä¸ºäº†ä½¿å¾—é¡¹ç›®ç»Ÿä¸€è§„èŒƒåŒ–ï¼Œæ·»åŠ jsx-eslintæ“ä½œæ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ï¼ˆå…³äºjså…¶ä»–çš„eslintæ“ä½œï¼Œè¯·å‚è§å®˜ç½‘ï¼Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹jsxé™åˆ¶è§„èŒƒé…ç½®ï¼‰ã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ .eslintrcæ–‡ä»¶","text":"å‰è¨€ äº†è§£eslintåŸºç¡€ç”¨æ³•ï¼Œè‹¥æƒ³æ›´è¿›ä¸€æ­¥äº†è§£å…¶ï¼Œè¯·æŸ¥é˜…å®˜ç½‘ä»¥åŠç›¸å…³èµ„æ–™(ä¸­æ–‡ç½‘) è‹¥æœ‰é—®é¢˜è¯·æŒ‡å‡ºæˆ–åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚ åˆå§‹åŒ–é¡¹ç›®ä½¿ç”¨create-react-app åˆ›å»ºé¡¹ç›®ï¼ˆæ­¤è¿‡ç¨‹ä¸åšè¯¦è§£ï¼‰ï¼Œç„¶åè¿è¡Œnpm run ejectä½¿å…¶æš´éœ²webpackç­‰é…ç½®æ–‡ä»¶ è‡ªå®šä¹‰eslintä¸Šè¿°æ­¥éª¤å¹¶æ²¡æœ‰æš´éœ²reactè„šæ‰‹æ¶å°è£…çš„eslintæ“ä½œï¼Œä¸ºäº†ä½¿å¾—é¡¹ç›®ç»Ÿä¸€è§„èŒƒåŒ–ï¼Œæ·»åŠ jsx-eslintæ“ä½œæ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ï¼ˆå…³äºjså…¶ä»–çš„eslintæ“ä½œï¼Œè¯·å‚è§å®˜ç½‘ï¼Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹jsxé™åˆ¶è§„èŒƒé…ç½®ï¼‰ã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ .eslintrcæ–‡ä»¶ åœ¨æ ¹ç›®å½•æ‰¾åˆ°configæ–‡ä»¶å¤¹ï¼Œå¹¶æ‰¾åˆ°æ–‡ä»¶å¤¹ä¸‹çš„webpack.config.dev.jsæ–‡ä»¶ webpack.config.dev.jsæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š1234567891011enforce: 'pre',use: [&#123; // @remove-on-eject-begin // Point ESLint to our predefined config. options: &#123; //configFile: path.join(__dirname, '../.eslintrc'), useEslintrc: true &#125;, // @remove-on-eject-end loader: 'eslint-loader'&#125;], è¿è¡Œnpm start,æ­¤æ—¶ï¼Œä½ ç¼–å†™çš„jsxæ–‡ä»¶éƒ½æ˜¯ç»è¿‡.eslintrcçš„é…ç½®é™åˆ¶ .eslintrcæ–‡ä»¶åŸºæœ¬è§„èŒƒé…ç½®ps: é…ç½®çš„valueå¯¹åº”çš„å€¼ï¼š 0 : off 1 : warning 2 : errorä¸æ»¡è¶³ä»¥ä¸‹çš„è§„èŒƒè®¾ç½®çš„ï¼Œç¼–è¯‘ä»£ç æ—¶å°†æœ‰é»„è‰²æç¤ºå…·ä½“é…ç½®è§„åˆ™å¯å‚è§Github123456789101112131415&#123; \"extends\": \"react-app\", \"rules\": &#123; \"no-multi-spaces\": 1, \"react/jsx-space-before-closing\": 1, // æ€»æ˜¯åœ¨è‡ªåŠ¨å…³é—­çš„æ ‡ç­¾å‰åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¹Ÿä¸éœ€è¦æ¢è¡Œ \"jsx-quotes\": 1, \"react/jsx-closing-bracket-location\": 1, // éµå¾ªJSXè¯­æ³•ç¼©è¿›/æ ¼å¼ \"react/jsx-boolean-value\": 1, // å¦‚æœå±æ€§å€¼ä¸º true, å¯ä»¥ç›´æ¥çœç•¥ \"react/no-string-refs\": 1, // æ€»æ˜¯åœ¨Refsé‡Œä½¿ç”¨å›è°ƒå‡½æ•° \"react/self-closing-comp\": 1, // å¯¹äºæ²¡æœ‰å­å…ƒç´ çš„æ ‡ç­¾æ¥è¯´æ€»æ˜¯è‡ªå·±å…³é—­æ ‡ç­¾ \"react/jsx-no-bind\": 1, // å½“åœ¨ render() é‡Œä½¿ç”¨äº‹ä»¶å¤„ç†æ–¹æ³•æ—¶ï¼Œæå‰åœ¨æ„é€ å‡½æ•°é‡ŒæŠŠ this ç»‘å®šä¸Šå» \"react/sort-comp\": 1, // æŒ‰ç…§å…·ä½“è§„èŒƒçš„React.createClass çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹¦å†™ä»£ç  \"react/jsx-pascal-case\": 1 // Reactæ¨¡å—åä½¿ç”¨å¸•æ–¯å¡å‘½åï¼Œå®ä¾‹ä½¿ç”¨éª†é©¼å¼å‘½å &#125;&#125;","categories":[],"tags":[{"name":"react","slug":"react","permalink":"https://yezihaohao.github.io/tags/react/"},{"name":"eslint","slug":"eslint","permalink":"https://yezihaohao.github.io/tags/eslint/"}]},{"title":"Javascripté¡¹ç›®ç¬”è®°","slug":"Javascripté¡¹ç›®ç¬”è®°","date":"un11fin11","updated":"un33fin33","path":"2017/03/13/Javascripté¡¹ç›®ç¬”è®°/","link":"","permalink":"https://yezihaohao.github.io/2017/03/13/Javascripté¡¹ç›®ç¬”è®°/","excerpt":"é’ˆå¯¹é¡¹ç›®ä¸­å¸¸ç”¨çš„javascript apiç­‰ï¼Œè¿›è¡Œä¸€ä¸ªæ±‡æ€»~æ–‡æ¡£æŒç»­æ›´æ–°ä¸­ã€‚ã€‚ã€‚ å‰æï¼šæœ‰äº›åŠŸèƒ½å¯èƒ½æµè§ˆå™¨è¿˜ä¸æ”¯æŒï¼Œéœ€è¦ç”¨babelè¿›è¡Œè½¬æ¢ï¼Œå…·ä½“çš„babelç¯å¢ƒæ­å»ºï¼Œè¯·è‡ªè¡ŒBaiduæˆ–googleã€‚ å¾ˆå¤šæ¡†æ¶çš„è„šæ‰‹æ¶ç”Ÿæˆçš„helloworldé¡¹ç›®æ˜¯å·²ç»æ­å¥½çš„ç¯å¢ƒï¼Œæ¯”å¦‚reactæˆ–è€…vueï¼Œæ‰€ä»¥ä½¿ç”¨è„šæ‰‹æ¶çš„ç«¥é‹å¤§å¯æ”¾å¿ƒä½¿ç”¨ã€‚ è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚ æ‰©å±•è¿ç®—ç¬¦ï¼šä¸‰ä¸ªç‚¹ â€¦åˆå¹¶æ•°ç»„1234let arr1 = [1, 2], arr2 = [3, 4];arr1.push(...arr2); // æŠŠarr2åˆå¹¶åˆ°arr1çš„å°¾éƒ¨, arr1æ”¹å˜arr1.unshift(...arr2); // æŠŠarr2åˆå¹¶åˆ°arr1çš„é¡¶éƒ¨, arr1æ”¹å˜[...arr1, ...arr2]; // ç”Ÿæˆä¸€ä¸ªç”±arr1å’Œarr2ç»„æˆçš„æ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜ å¤åˆ¶å¯¹è±¡","text":"é’ˆå¯¹é¡¹ç›®ä¸­å¸¸ç”¨çš„javascript apiç­‰ï¼Œè¿›è¡Œä¸€ä¸ªæ±‡æ€»~æ–‡æ¡£æŒç»­æ›´æ–°ä¸­ã€‚ã€‚ã€‚ å‰æï¼šæœ‰äº›åŠŸèƒ½å¯èƒ½æµè§ˆå™¨è¿˜ä¸æ”¯æŒï¼Œéœ€è¦ç”¨babelè¿›è¡Œè½¬æ¢ï¼Œå…·ä½“çš„babelç¯å¢ƒæ­å»ºï¼Œè¯·è‡ªè¡ŒBaiduæˆ–googleã€‚ å¾ˆå¤šæ¡†æ¶çš„è„šæ‰‹æ¶ç”Ÿæˆçš„helloworldé¡¹ç›®æ˜¯å·²ç»æ­å¥½çš„ç¯å¢ƒï¼Œæ¯”å¦‚reactæˆ–è€…vueï¼Œæ‰€ä»¥ä½¿ç”¨è„šæ‰‹æ¶çš„ç«¥é‹å¤§å¯æ”¾å¿ƒä½¿ç”¨ã€‚ è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚ æ‰©å±•è¿ç®—ç¬¦ï¼šä¸‰ä¸ªç‚¹ â€¦åˆå¹¶æ•°ç»„1234let arr1 = [1, 2], arr2 = [3, 4];arr1.push(...arr2); // æŠŠarr2åˆå¹¶åˆ°arr1çš„å°¾éƒ¨, arr1æ”¹å˜arr1.unshift(...arr2); // æŠŠarr2åˆå¹¶åˆ°arr1çš„é¡¶éƒ¨, arr1æ”¹å˜[...arr1, ...arr2]; // ç”Ÿæˆä¸€ä¸ªç”±arr1å’Œarr2ç»„æˆçš„æ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸å˜ å¤åˆ¶å¯¹è±¡ 1234567let obj = &#123;a: 1&#125;;&#123;...obj, b: 2&#125;; // è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œ&#123;a: 1, b: 2&#125;, objå¯¹è±¡ä¸å˜// ç­‰ä»·äºä¸‹é¢çš„ç”¨æ³•Object.assign(&#123;&#125;, obj, &#123;b: 2&#125;); // è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œ&#123;a: 1, b: 2&#125;, objå¯¹è±¡ä¸å˜// å¦å¤–Object.assign è¿˜æœ‰ä¸€ä¸ªç”¨æ³•Object.assign(obj, &#123;b: 2&#125;); // è¿”å›objå¯¹è±¡å¹¶ä¸”æ–°å¢åŠ äº†bå±æ€§ï¼š&#123;a: 1, b: 2&#125; objå¯¹è±¡æ”¹å˜// ç”±äºä½¿ç”¨çš„chromeæµè§ˆå™¨è¿˜ä¸æ”¯æŒç¬¬ä¸€ç§ç”¨æ³•ï¼Œåªèƒ½æ¼”ç¤ºObject.assignã€‚é¡¹ç›®ä¸­ä½¿ç”¨babelè½¬æ¢","categories":[],"tags":[]},{"title":"Socket.io+Notificationå®ç°æµè§ˆå™¨æ¶ˆæ¯æ¨é€","slug":"Socket-io-Notificationå®ç°æµè§ˆå™¨æ¶ˆæ¯æ¨é€","date":"un11fin11","updated":"un22fin22","path":"2017/02/20/Socket-io-Notificationå®ç°æµè§ˆå™¨æ¶ˆæ¯æ¨é€/","link":"","permalink":"https://yezihaohao.github.io/2017/02/20/Socket-io-Notificationå®ç°æµè§ˆå™¨æ¶ˆæ¯æ¨é€/","excerpt":"å‰è¨€ socket.io: åŒ…å«å¯¹websocketçš„å°è£…ï¼Œå¯å®ç°æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹å‰çš„é€šä¿¡ã€‚è¯¦æƒ…è§å®˜ç½‘ (è™½ç„¶æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œä½†è¿˜æ˜¯é€šä¿—æ˜“æ‡‚)ã€‚ Notification: Html5æ–°ç‰¹æ€§ï¼Œç”¨äºæµè§ˆå™¨çš„æ¡Œé¢é€šçŸ¥ï¼Œåªæœ‰éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒã€‚ é€šè¿‡nodejs+Socket.io+Notificationå®ç°æœåŠ¡ç«¯å¾€æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€è‡ªå®šä¹‰æ¶ˆæ¯ã€‚ è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚ è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ å¼€å‘å‰ææœ¬åœ°å®‰è£…nodejsä»¥åŠnpmå¯¹nodejsä»¥åŠexpressæ¡†æ¶æœ‰ä¸€å®šäº†è§£ã€‚ï¼ˆæœ¬ç¯‡å°†å’Œå®˜æ–¹æ–‡æ¡£ä¸€æ ·ï¼Œé‡‡ç”¨express 4.10.2ï¼‰ ç¯å¢ƒæ­å»º æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹notificationï¼ˆä»¥ä¸‹æ“ä½œéƒ½åœ¨è¯¥æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•è¿›è¡Œï¼‰ npmåˆå§‹åŒ–package.jsonæ–‡ä»¶ npm init å®‰è£…express(æŒ‡å®šç‰ˆæœ¬4.10.2ï¼Œæ²¡æœ‰è¯•è¿‡å…¶ä»–ç‰ˆæœ¬ï¼Œæ„Ÿå…´è¶£å¯ä»¥è¯•ä¸‹) npm install --save express@4.10.2 å®‰è£…socket.io(æœ¬äººå®‰è£…çš„ç‰ˆæœ¬æ˜¯1.7.3) npm install --save socket.io ç¼–å†™ä»£ç æ„å»ºé€šä¿¡ç¯å¢ƒåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.htmlï¼ˆæ³¨ï¼šindexé¡µé¢çš„æ ·å¼æ¥è‡ªsocket.ioçš„å®˜æ–¹ç¤ºä¾‹ï¼‰12345678910111213141516171819202122&lt;!doctype html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Socket.IO Notification&lt;/title&gt; &lt;style&gt; * &#123; margin: 0; padding: 0; box-sizing: border-box; &#125; body &#123; font: 13px Helvetica, Arial; &#125; form &#123; background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; &#125; form input &#123; border: 0; padding: 10px; width: 90%; margin-right: .5%; &#125; form button &#123; width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; &#125; #messages &#123; list-style-type: none; margin: 0; padding: 0; &#125; #messages li &#123; padding: 5px 10px; &#125; #messages li:nth-child(odd) &#123; background: #eee; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;ul id=&quot;messages&quot;&gt;&lt;/ul&gt; &lt;form action=&quot;&quot;&gt; &lt;input id=&quot;m&quot; autocomplete=&quot;off&quot; /&gt;&lt;button&gt;Send&lt;/button&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œå¹¶åœ¨jsæ–‡ä»¶ä¸­æ„å»ºç›¸åº”çš„å¯¹è±¡å’Œå˜é‡ï¼Œåˆ›å»ºç›‘å¬ç«¯å£ä¸º8080 çš„æœåŠ¡å™¨ï¼Œä»¥åŠæ·»åŠ æ˜ å°„åˆ°index.htmlçš„è·¯ç”±ã€‚","text":"å‰è¨€ socket.io: åŒ…å«å¯¹websocketçš„å°è£…ï¼Œå¯å®ç°æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹å‰çš„é€šä¿¡ã€‚è¯¦æƒ…è§å®˜ç½‘ (è™½ç„¶æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œä½†è¿˜æ˜¯é€šä¿—æ˜“æ‡‚)ã€‚ Notification: Html5æ–°ç‰¹æ€§ï¼Œç”¨äºæµè§ˆå™¨çš„æ¡Œé¢é€šçŸ¥ï¼Œåªæœ‰éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒã€‚ é€šè¿‡nodejs+Socket.io+Notificationå®ç°æœåŠ¡ç«¯å¾€æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€è‡ªå®šä¹‰æ¶ˆæ¯ã€‚ è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®ºã€‚ è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ å¼€å‘å‰ææœ¬åœ°å®‰è£…nodejsä»¥åŠnpmå¯¹nodejsä»¥åŠexpressæ¡†æ¶æœ‰ä¸€å®šäº†è§£ã€‚ï¼ˆæœ¬ç¯‡å°†å’Œå®˜æ–¹æ–‡æ¡£ä¸€æ ·ï¼Œé‡‡ç”¨express 4.10.2ï¼‰ ç¯å¢ƒæ­å»º æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹notificationï¼ˆä»¥ä¸‹æ“ä½œéƒ½åœ¨è¯¥æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•è¿›è¡Œï¼‰ npmåˆå§‹åŒ–package.jsonæ–‡ä»¶ npm init å®‰è£…express(æŒ‡å®šç‰ˆæœ¬4.10.2ï¼Œæ²¡æœ‰è¯•è¿‡å…¶ä»–ç‰ˆæœ¬ï¼Œæ„Ÿå…´è¶£å¯ä»¥è¯•ä¸‹) npm install --save express@4.10.2 å®‰è£…socket.io(æœ¬äººå®‰è£…çš„ç‰ˆæœ¬æ˜¯1.7.3) npm install --save socket.io ç¼–å†™ä»£ç æ„å»ºé€šä¿¡ç¯å¢ƒåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.htmlï¼ˆæ³¨ï¼šindexé¡µé¢çš„æ ·å¼æ¥è‡ªsocket.ioçš„å®˜æ–¹ç¤ºä¾‹ï¼‰12345678910111213141516171819202122&lt;!doctype html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Socket.IO Notification&lt;/title&gt; &lt;style&gt; * &#123; margin: 0; padding: 0; box-sizing: border-box; &#125; body &#123; font: 13px Helvetica, Arial; &#125; form &#123; background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; &#125; form input &#123; border: 0; padding: 10px; width: 90%; margin-right: .5%; &#125; form button &#123; width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; &#125; #messages &#123; list-style-type: none; margin: 0; padding: 0; &#125; #messages li &#123; padding: 5px 10px; &#125; #messages li:nth-child(odd) &#123; background: #eee; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;ul id=&quot;messages&quot;&gt;&lt;/ul&gt; &lt;form action=&quot;&quot;&gt; &lt;input id=&quot;m&quot; autocomplete=&quot;off&quot; /&gt;&lt;button&gt;Send&lt;/button&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œå¹¶åœ¨jsæ–‡ä»¶ä¸­æ„å»ºç›¸åº”çš„å¯¹è±¡å’Œå˜é‡ï¼Œåˆ›å»ºç›‘å¬ç«¯å£ä¸º8080 çš„æœåŠ¡å™¨ï¼Œä»¥åŠæ·»åŠ æ˜ å°„åˆ°index.htmlçš„è·¯ç”±ã€‚12345678910111213let express = require('express'), app = express(), http = require('http').Server(app), io = require('socket.io')(http);app.use(express.static(__dirname + '/public'));app.get('/', function(req, res)&#123; res.sendfile('index.html');&#125;);http.listen(8080, function()&#123; console.log('listening on port 8080');&#125;); è¿è¡Œ node index.js ç”¨æµè§ˆå™¨æ‰“å¼€http://localhost:8080 æˆåŠŸçš„è¯å³å¯çœ‹åˆ°index.htmlé¡µé¢çš„å†…å®¹ã€‚åœ¨index.jsçš„ç›‘å¬ç«¯å£ä»£ç ä¸Šæ–¹æ·»åŠ socket.ioçš„ç›‘å¬äº‹ä»¶ï¼Œç›‘å¬ç”¨æˆ·è¿æ¥çš„connectionã€‚123io.on('connection', function(socket)&#123; console.log('a user connected');&#125;); åˆ›å»ºç›‘å¬Eventäº‹ä»¶:notificationï¼Œå¹¶ç”¨emitå‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯1234567io.on('connection', function(socket)&#123; console.log('a user connected'); socket.on('notification', function(msg)&#123; console.log(msg); io.emit('notification', msg); &#125;);&#125;); åœ¨index.htmlé¡µé¢ä¸­çš„ä¸Šæ–¹å¼•å…¥socket.ioæ–‡ä»¶ï¼Œå¹¶ç”¨emitå‘æœåŠ¡å™¨æäº¤æ•°æ®ä»¥åŠç›‘å¬äº‹ä»¶notificationï¼Œæ¥æ”¶æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯æ³¨æ„ï¼Œå¼•å…¥socket.ioçš„æ–¹å¼åœ¨è¿è¡Œnode index.jsä¹‹åæ‰æœ‰æ•ˆæœï¼Œç›´æ¥æ‰“å¼€index.htmlæ˜¯æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶çš„12345678910111213 &lt;script type=\"text/javascript\" src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt; &lt;script src=\"http://code.jquery.com/jquery-1.11.1.js\"&gt;&lt;/script&gt; &lt;script&gt;let socket = io();$('form').submit(function()&#123; socket.emit('notification', $('#m').val()); $('#m').val(''); return false;&#125;);socket.on('notification', function(msg)&#123; console.log(msg);&#125;); &lt;/script&gt; æµè§ˆå™¨æ‰“å¼€http://localhost:8080 åï¼Œåœ¨inputæ¡†ä¸­è¾“å…¥ï¼Œç‚¹å‡»å‘é€ï¼Œåœ¨nodejsè¿è¡Œçš„æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š1234a user connected //ä»¥ä¸‹æ•°æ®æ˜¯è¾“å…¥æ¡†è¾“å…¥çš„æ•°æ®hello testæµ‹è¯• å®ç°è‡ªå®šä¹‰æ¶ˆæ¯æ¨é€å®Œæ•´ä»£ç ï¼š12345678910111213141516171819202122232425 &lt;script&gt;let socket = io();$('form').submit(function()&#123; socket.emit('notification', $('#m').val()); $('#m').val(''); return false;&#125;);socket.on('notification', function(msg)&#123; notice(msg); //è‹¥å…è®¸é€šçŸ¥ï¼Œå¾…è¾“å…¥æ¶ˆæ¯åç›‘å¬å˜åŒ–å°±ä¼šè°ƒç”¨é€šçŸ¥æ–¹æ³•&#125;); Notification.requestPermission(function(permission) &#123;&#125;); //è¯¢é—®æµè§ˆå™¨æ˜¯å¦å…è®¸é€šçŸ¥ function notice(msg) &#123; let _notification = new Notification(`æ¶ˆæ¯é€šçŸ¥`,&#123; body:`$&#123;msg&#125;`, icon:'http://localhost:8080/23539868.jpg' &#125;); setTimeout(function()&#123; _notification.close(); //è®¾ç½®5ç§’åè‡ªåŠ¨å…³é—­é€šçŸ¥æ¡† &#125;,5000); &#125; &lt;/script&gt; è¿è¡Œæˆªå›¾å®Œæ•´ç¤ºä¾‹ä»£ç è§GitHub","categories":[{"name":"æ¶ˆæ¯æ¨é€","slug":"æ¶ˆæ¯æ¨é€","permalink":"https://yezihaohao.github.io/categories/æ¶ˆæ¯æ¨é€/"}],"tags":[{"name":"Nodejs","slug":"Nodejs","permalink":"https://yezihaohao.github.io/tags/Nodejs/"},{"name":"Socket.io","slug":"Socket-io","permalink":"https://yezihaohao.github.io/tags/Socket-io/"}]},{"title":"Vuejs2.Xç»„ä»¶åŒ–-é˜¿é‡Œçš„G2å›¾è¡¨ç»„ä»¶","slug":"Vuejs2-Xç»„ä»¶åŒ–-é˜¿é‡Œçš„G2å›¾è¡¨ç»„ä»¶","date":"un22fin22","updated":"un22fin22","path":"2017/02/14/Vuejs2-Xç»„ä»¶åŒ–-é˜¿é‡Œçš„G2å›¾è¡¨ç»„ä»¶/","link":"","permalink":"https://yezihaohao.github.io/2017/02/14/Vuejs2-Xç»„ä»¶åŒ–-é˜¿é‡Œçš„G2å›¾è¡¨ç»„ä»¶/","excerpt":"å‰è¨€ vue çš„ç»„ä»¶åŒ–å¼€å‘æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æœºåˆ¶.â€™ä¸€å¤„å¼€å‘,å¤šå¤„å¼•ç”¨â€™ï¼Œä¸ä»…é™ä½çš„ç»´æŠ¤æˆæœ¬ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ï¼Œè€Œä¸”å•ç‹¬çš„ç»„ä»¶æœ‰å•ç‹¬çš„è§†å›¾å’Œäº¤äº’æ•°æ®é€»è¾‘ï¼Œä½¿å¾—ç³»ç»Ÿå±‚æ¬¡æ›´åŠ åˆ†æ˜ã€‚è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®º~è½¬è½½æ–‡ç« è¯·æ ‡æ˜å‡ºå¤„ï¼ å¼€å‘åœºæ™¯æ•°æ®å¯è§†åŒ–æ˜¯æˆ‘ä»¬äº’è”ç½‘å¸¸è§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥éš¾å…æˆ‘ä»¬ä¼šåœ¨é¡¹ç›®ä¸­æ’å…¥å›¾è¡¨ç­‰ï¼Œæ‰¾åˆ°ä¸€ä¸ªè¿˜ç®—å¯ä»¥çš„å›¾å½¢æ’ä»¶ï¼Œé˜¿é‡Œçš„G2å›¾å½¢åº“ï¼Œè¯¦æƒ…è¯·å‚è§G2å®˜ç½‘ã€‚æ¥ä¸‹æ¥å°±å¼€å§‹æˆ‘ä»¬çš„Vue G2ç»„ä»¶åŒ–ä¹‹æ—…ã€‚ è„šæ‰‹æ¶æ­å»ºhelloworldå…ˆç”¨è„šæ‰‹æ¶å·¥å…· vue-cliæ­å»ºä¸€ä¸ªvueçš„helloworldé¡¹ç›®(Vueçš„ç›¸å…³æ•™ç¨‹è¯·çœ‹Vueå®˜ç½‘)ï¼ŒæŒ‰ç…§readmeæ–‡æ¡£æ­£å¸¸è¿è¡Œè¯¥é¡¹ç›®ã€‚ å®‰è£…G2æ’ä»¶åœ¨package.jsonçš„ç›®å½•ä¸‹ç”¨npmåŒ…ç®¡ç†å·¥å…·å®‰è£…G2æ’ä»¶åº“1npm install --save-dev g2 æˆ‘ç”¨åˆ°çš„ç‰ˆæœ¬æ˜¯2.2.1ï¼Œç°åœ¨æœ€æ–°çš„å¥½åƒæ˜¯2.2.2ï¼Œåº”è¯¥ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸è¿‡æˆ‘æ²¡æµ‹è¯•è¿‡ æ–°å»ºG2Line.vueå•æ–‡ä»¶ç»„ä»¶åœ¨componentsç›®å½•ä¸‹æ–°å»ºG2Line.vueæ–‡ä»¶ï¼ˆå½“å‰æ˜¯ä»¥çº¿å½¢å›¾ä¸ºä¾‹çš„ç»„ä»¶ï¼‰ã€‚åœ¨templateæ ‡ç­¾ä¸­æ–°å¢æ ‡ç­¾1234&lt;template&gt; &lt;!--æ­¤å¤„çš„idç”¨å˜é‡ï¼Œæ–¹ä¾¿åŒä¸€é¡µé¢å¼•ç”¨å¤šæ¬¡ç›¸åŒçš„ç»„ä»¶--&gt; &lt;div :id=\"id\"&gt;&lt;/div&gt;&lt;/template&gt;","text":"å‰è¨€ vue çš„ç»„ä»¶åŒ–å¼€å‘æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æœºåˆ¶.â€™ä¸€å¤„å¼€å‘,å¤šå¤„å¼•ç”¨â€™ï¼Œä¸ä»…é™ä½çš„ç»´æŠ¤æˆæœ¬ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ï¼Œè€Œä¸”å•ç‹¬çš„ç»„ä»¶æœ‰å•ç‹¬çš„è§†å›¾å’Œäº¤äº’æ•°æ®é€»è¾‘ï¼Œä½¿å¾—ç³»ç»Ÿå±‚æ¬¡æ›´åŠ åˆ†æ˜ã€‚è‹¥æœ‰é—®é¢˜å¯åŠ ç¾¤264591039ä¸æˆ‘è®¨è®º~è½¬è½½æ–‡ç« è¯·æ ‡æ˜å‡ºå¤„ï¼ å¼€å‘åœºæ™¯æ•°æ®å¯è§†åŒ–æ˜¯æˆ‘ä»¬äº’è”ç½‘å¸¸è§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥éš¾å…æˆ‘ä»¬ä¼šåœ¨é¡¹ç›®ä¸­æ’å…¥å›¾è¡¨ç­‰ï¼Œæ‰¾åˆ°ä¸€ä¸ªè¿˜ç®—å¯ä»¥çš„å›¾å½¢æ’ä»¶ï¼Œé˜¿é‡Œçš„G2å›¾å½¢åº“ï¼Œè¯¦æƒ…è¯·å‚è§G2å®˜ç½‘ã€‚æ¥ä¸‹æ¥å°±å¼€å§‹æˆ‘ä»¬çš„Vue G2ç»„ä»¶åŒ–ä¹‹æ—…ã€‚ è„šæ‰‹æ¶æ­å»ºhelloworldå…ˆç”¨è„šæ‰‹æ¶å·¥å…· vue-cliæ­å»ºä¸€ä¸ªvueçš„helloworldé¡¹ç›®(Vueçš„ç›¸å…³æ•™ç¨‹è¯·çœ‹Vueå®˜ç½‘)ï¼ŒæŒ‰ç…§readmeæ–‡æ¡£æ­£å¸¸è¿è¡Œè¯¥é¡¹ç›®ã€‚ å®‰è£…G2æ’ä»¶åœ¨package.jsonçš„ç›®å½•ä¸‹ç”¨npmåŒ…ç®¡ç†å·¥å…·å®‰è£…G2æ’ä»¶åº“1npm install --save-dev g2 æˆ‘ç”¨åˆ°çš„ç‰ˆæœ¬æ˜¯2.2.1ï¼Œç°åœ¨æœ€æ–°çš„å¥½åƒæ˜¯2.2.2ï¼Œåº”è¯¥ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸è¿‡æˆ‘æ²¡æµ‹è¯•è¿‡ æ–°å»ºG2Line.vueå•æ–‡ä»¶ç»„ä»¶åœ¨componentsç›®å½•ä¸‹æ–°å»ºG2Line.vueæ–‡ä»¶ï¼ˆå½“å‰æ˜¯ä»¥çº¿å½¢å›¾ä¸ºä¾‹çš„ç»„ä»¶ï¼‰ã€‚åœ¨templateæ ‡ç­¾ä¸­æ–°å¢æ ‡ç­¾1234&lt;template&gt; &lt;!--æ­¤å¤„çš„idç”¨å˜é‡ï¼Œæ–¹ä¾¿åŒä¸€é¡µé¢å¼•ç”¨å¤šæ¬¡ç›¸åŒçš„ç»„ä»¶--&gt; &lt;div :id=\"id\"&gt;&lt;/div&gt;&lt;/template&gt; åœ¨scriptæ ‡ç­¾ä¸­å¼•å…¥G2å¹¶å¼€å§‹å…ˆå…³æ“ä½œä»£ç ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import G2 from 'g2'; export default &#123; data () &#123; return &#123; chart: null &#125;; &#125;, props: &#123; charData: &#123; type: Array, default: function () &#123; return &#123; data: [&#123;'mzkId': 112, 'strftime': \"2017-01-11\", 'value': 9275501&#125;, // æµ‹è¯•æ•°æ®ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚è‡ªå·±è®¾ç½®æ•°æ® &#123;'mzkId': 112, 'strftime': \"2017-01-12\", 'value': 9281904&#125;, &#123;'mzkId': 112, 'strftime': \"2017-01-13\", 'value': 9290777&#125;, &#123;'mzkId': 112, 'strftime': \"2017-01-14\", 'value': 9297913&#125;, &#123;'mzkId': 112, 'strftime': \"2017-01-15\", 'value': 9306918&#125;, &#123;'mzkId': 112, 'strftime': \"2017-01-16\", 'value': 9315641&#125;] &#125;; &#125; &#125;, id: String &#125;, mounted: function () &#123;// this.drawChart(); // ç¬¬ä¸€æ­¥æƒ³åˆ°çš„æ˜¯åˆ›å»ºçš„æ—¶å€™æ›´æ–°å›¾è¡¨ï¼Œä½†æ˜¯è¿™ä¸ªä¸é€‚ç”¨äºå¼‚æ­¥è¯·æ±‚æ¥å£è·å–ç›¸å…³æ•°æ®ï¼Œæ‰€ä»¥é‡‡ç”¨ä¸‹é¢çš„ç›‘å¬çš„æ–¹å¼ &#125;, beforeUpdate: function () &#123;// this.drawChart(); &#125;, watch: &#123; charData: function (val, oldVal) &#123; // ç›‘å¬charDataï¼Œå½“æ”¾ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘è¿™ä¸ªå›è°ƒå‡½æ•°ç»˜åˆ¶å›¾è¡¨ console.log('new: %s, old: %s', val, oldVal); this.drawChart(val); &#125; &#125;, methods: &#123; drawChart: function (datas) &#123; // å¦‚æœå›¾å½¢å­˜åœ¨åˆ™åˆ é™¤å†åˆ›å»ºï¼Œè¿™ä¸ªåœ°æ–¹æ„Ÿè§‰ç¨å¾®æœ‰ç‚¹å‘ // å…·ä½“çš„G2 apiå‡½æ•°è¯´æ˜è¯·çœ‹ä¸Šé¢æä¾›çš„å®˜ç½‘åœ°å€ï¼Œæ­¤å¤„ä¸å†é€ä¸€è¯´æ˜ this.chart &amp;&amp; this.chart.destroy(); let data = datas; this.chart = new G2.Chart(&#123; id: this.id, width: 1000, height: 250 &#125;); this.chart.source(data, &#123; strftime: &#123; alias: 'æ—¥æœŸ', type: 'cat', range: [0, 1] &#125;, value: &#123; alias: 'æ•°é‡å€¼(äºº)' &#125; &#125;); this.chart.line().position('strftime*value').size(2); this.chart.point().position('strftime*value').color('#757373') .shape('circle') .label('value', &#123;offset: 20, label: &#123;fill: '#000'&#125;&#125;); this.chart.animate(false); this.chart.render(); &#125; &#125; &#125; App.vueå¼•å…¥ç»„ä»¶å¹¶æ¸²æŸ“å›¾è¡¨åœ¨app.vueä¸­å¼•å…¥ä¸Šä¸€æ­¥æ–°å»ºçš„G2Line.vueç»„ä»¶ï¼Œå¹¶åŠ è½½åˆ°å½“å‰vueå®ä¾‹ä¸­1234567891011121314151617&lt;script&gt; import G2Line from './components/G2Line.vue'; export default &#123; components: &#123; G2Line &#125;, data () &#123; return &#123; serverData: [] &#125; &#125;, methods: &#123; // æ­¤å¤„çœç•¥ä»æœåŠ¡å™¨è·å–æ•°æ®å¹¶ä¸”èµ‹å€¼ç»™this.serverData // æ¨èä½¿ç”¨axiosè¯·æ±‚æ¥å£ &#125; &#125;&lt;/script&gt; è·å–æœåŠ¡ç«¯æ•°æ®ä¹‹åï¼Œåœ¨templateä¸­åˆ›å»ºç»„ä»¶æ ‡ç­¾ï¼Œå¹¶å°†serverDataå‘é€ç»™å­ç»„ä»¶G2Line12&lt;!--åŒæ­¥è®¾ç½®idä¼ é€ç»™å­ç»„ä»¶--&gt;&lt;g2-line :charData=\"serverData\" :id=\"'c1'\" id=\"c1\"&gt;&lt;/g2-line&gt; åˆ·æ–°ç•Œé¢ï¼ŒæˆåŠŸçœ‹åˆ°é¡µé¢å›¾è¡¨çš„æ¸²æŸ“","categories":[],"tags":[{"name":"Vuejs","slug":"Vuejs","permalink":"https://yezihaohao.github.io/tags/Vuejs/"}]},{"title":"Nodejsçˆ¬è™«--æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸‹ï¼‰","slug":"Nodejsçˆ¬è™«-æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸‹ï¼‰","date":"un66fin66","updated":"un66fin66","path":"2017/02/11/Nodejsçˆ¬è™«-æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸‹ï¼‰/","link":"","permalink":"https://yezihaohao.github.io/2017/02/11/Nodejsçˆ¬è™«-æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸‹ï¼‰/","excerpt":"æ¥ç€ä¸Šç¯‡ Nodejsçˆ¬è™«â€“æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰ æœ¬ç¯‡ä¸»è¦æè¿°å°†ä¸Šæ¬¡æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ å‰æï¼šç™¾åº¦æˆ–è°·æ­Œmongodbçš„å®‰è£…æ•™ç¨‹ï¼Œå®‰è£…æœ¬åœ°å¹¶æˆåŠŸè¿è¡Œ æ¨èä¸€æ¬¾mongodbæ•°æ®åº“å¯è§†åŒ–ç®¡ç†å·¥å…·ï¼šRobomongoã€‚å¯ä»¥åŠ ç¾¤264591039è·å–å®‰è£…åŒ…æˆ–è‡ªè¡Œå¯»æ‰¾èµ„æº é¦–å…ˆç”¨npmå®‰è£…ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œåŒ…ï¼šmongoose.å…³äºmongooseè¯¦æƒ…è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£1npm install --save-dev mongoose å¼•å…¥mongooseåŒ…å¼€å§‹å¯¹mongodbè¿›è¡Œç®¡ç†å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmongo.jsæ–‡ä»¶æ–¹ä¾¿ç®¡ç†ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­å¼•å…¥ç›¸å…³åŒ…ï¼š12let mongoose = require('mongoose'), assert = require('assert');","text":"æ¥ç€ä¸Šç¯‡ Nodejsçˆ¬è™«â€“æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰ æœ¬ç¯‡ä¸»è¦æè¿°å°†ä¸Šæ¬¡æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ å‰æï¼šç™¾åº¦æˆ–è°·æ­Œmongodbçš„å®‰è£…æ•™ç¨‹ï¼Œå®‰è£…æœ¬åœ°å¹¶æˆåŠŸè¿è¡Œ æ¨èä¸€æ¬¾mongodbæ•°æ®åº“å¯è§†åŒ–ç®¡ç†å·¥å…·ï¼šRobomongoã€‚å¯ä»¥åŠ ç¾¤264591039è·å–å®‰è£…åŒ…æˆ–è‡ªè¡Œå¯»æ‰¾èµ„æº é¦–å…ˆç”¨npmå®‰è£…ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œåŒ…ï¼šmongoose.å…³äºmongooseè¯¦æƒ…è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£1npm install --save-dev mongoose å¼•å…¥mongooseåŒ…å¼€å§‹å¯¹mongodbè¿›è¡Œç®¡ç†å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmongo.jsæ–‡ä»¶æ–¹ä¾¿ç®¡ç†ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­å¼•å…¥ç›¸å…³åŒ…ï¼š12let mongoose = require('mongoose'), assert = require('assert'); è·å–è¡¨æ„é€ å™¨Schemaå¹¶æ˜ å°„mongodbç›¸åº”çš„collection12345678910111213let Schema = mongoose.Schema;let filmSchema = new Schema(&#123; //è‡ªå®šä¹‰ç›¸åº”çš„è¡¨æ•°æ®å­—æ®µ title: String, type: String, directories: String, scriptwriter: String, actors: String &#125;);//æ˜ å°„collectionå¹¶ç”Ÿæˆmodelå¯¹è±¡ç”¨äºç®¡ç†æ•°æ®è¡¨çš„å¢åˆ æ”¹æŸ¥//é»˜è®¤æ˜¯æ˜ å°„åˆ°åä¸ºfilmsçš„collection//è‹¥è‡ªå®šä¹‰è¡¨æ˜åˆ™ï¼šlet filmSchema = new Schema(&#123;..&#125;, &#123; collection: 'data' &#125;); 'data'å³ä¸ºè‡ªå®šä¹‰åç§°let Film = mongoose.model('Film', filmSchema); è¿æ¥mongodbæ•°æ®åº“å¹¶exports Filmå¯¹è±¡123456789let db = mongoose.connect('mongodb://127.0.0.1:27017/spider');db.connection.on('error', (err) =&gt; &#123; console.log(`æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š$&#123;err&#125;`);&#125;);db.connection.on('open', () =&gt; &#123; console.log('æ•°æ®åº“è¿æ¥æˆåŠŸ');&#125;);module.exports = &#123;Film: Film&#125;; åœ¨spider.jsä¸­å¼•å…¥Filmå¯¹è±¡å¹¶æ·»åŠ å…¥åº“æ“ä½œä»£ç 123456789101112131415161718let mongo = require('./mongo');//åœ¨è¯·æ±‚ç½‘é¡µçš„endå‡½æ•°ä¸­æ·»åŠ å…¥åº“æ“ä½œxxxx.end((err, res) =&gt; &#123; var $ = cheerio.load(res.text); //ç”¨cheerioè·å–æ•´ä¸ªé¡µé¢DOMå¯¹è±¡ var _data = &#123;title:'', type: '', directories: '', scriptwriter: '', actors: ''&#125;; _data.title = $('#content h1 span').text(); _data.directories = $('#info .attrs').eq(0).text(); _data.scriptwriter = $('#info .attrs').eq(1).text(); _data.actors = $('#info .attrs').eq(2).text(); $('span[property=\"v:genre\"]').each(function (index) &#123; _data.type += ($(this).text() + (index == $('span[property=\"v:genre\"]').length - 1 ? '' : 'ã€')); &#125;); console.log(_data); mongo.Film.create(_data, (err, doc) =&gt; &#123; assert.equal(err, null); console.log(doc); &#125;);&#125;); è¿è¡Œspider.jsï¼Œå¹¶æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®12node spider.js//ç”¨ä¸Šè¿°æåˆ°çš„å¯è§†åŒ–å·¥å…·æŸ¥çœ‹æ•°æ®åº“æ˜¯å¦æˆåŠŸæœ‰æ•°æ®å…¥åº“","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yezihaohao.github.io/categories/çˆ¬è™«/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://yezihaohao.github.io/tags/Javascript/"},{"name":"Nodejs","slug":"Nodejs","permalink":"https://yezihaohao.github.io/tags/Nodejs/"}]},{"title":"Javascriptæ­£åˆ™è¡¨è¾¾å¼æ•´åˆ","slug":"Javascriptæ­£åˆ™è¡¨è¾¾å¼æ•´åˆ","date":"un55fin55","updated":"un55fin55","path":"2017/02/10/Javascriptæ­£åˆ™è¡¨è¾¾å¼æ•´åˆ/","link":"","permalink":"https://yezihaohao.github.io/2017/02/10/Javascriptæ­£åˆ™è¡¨è¾¾å¼æ•´åˆ/","excerpt":"é¡¹ç›®ä¸­å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ•´åˆå¤§å…¨æå–ç½‘é¡µæ ‡ç­¾å†…å®¹ä¸€.å•ä¸ªæ ‡ç­¾æå–123let str = `&lt;a class=\"menu\"&gt;GitHub&lt;/a&gt;`;let content = str.match(/&lt;a class=\"menu\"&gt;([\\s\\S]+)&lt;\\/a&gt;/)[1];","text":"é¡¹ç›®ä¸­å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ•´åˆå¤§å…¨æå–ç½‘é¡µæ ‡ç­¾å†…å®¹ä¸€.å•ä¸ªæ ‡ç­¾æå–123let str = `&lt;a class=\"menu\"&gt;GitHub&lt;/a&gt;`;let content = str.match(/&lt;a class=\"menu\"&gt;([\\s\\S]+)&lt;\\/a&gt;/)[1]; ä¸å®šæ—¶æ›´æ–°ä¸­â€¦","categories":[{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://yezihaohao.github.io/categories/æ­£åˆ™è¡¨è¾¾å¼/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://yezihaohao.github.io/tags/Javascript/"}]},{"title":"Nodejsçˆ¬è™«--æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰","slug":"Nodejsçˆ¬è™«-æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰","date":"un44fin44","updated":"un66fin66","path":"2017/02/09/Nodejsçˆ¬è™«-æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰/","link":"","permalink":"https://yezihaohao.github.io/2017/02/09/Nodejsçˆ¬è™«-æŠ“å–è±†ç“£ç”µå½±ç½‘é¡µæ•°æ®ï¼ˆä¸Šï¼‰/","excerpt":"ä¹‹å‰å†™äº†ä¸€ä¸ªnodejsçš„å¼€æºçˆ¬è™«å°é¡¹ç›®ï¼Œè¡¥ä¸Šåšå®¢è¯¦ç»†è§£æä¸‹ä»£ç ã€‚ PSï¼šå…±æœ‰ä¸Šä¸‹ä¸¤ç¯‡ï¼Œç¬¬ä¸€ç¯‡è®²ä»ç½‘ç«™ä¸ŠæŠ“å–æ•°æ®ï¼Œç¬¬äºŒç¯‡è®²å°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ã€‚ æˆ‘ä»¬å¿«é€Ÿå¼€å§‹å§é¦–å…ˆï¼Œå®‰è£…nodejsï¼Œç„¶åç”¨npmå·¥å…·åˆå§‹åŒ–èµ„æºç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage.jsonæ–°å»ºspideræ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢åˆå§‹åŒ–package.json1npm init ç„¶åç”¨npmå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š1npm install --save-dev superagent cheerio eventproxy async åœ¨æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºspider.js, åœ¨æ–‡ä»¶ä¸­å¼•å…¥éœ€è¦ç”¨åˆ°çš„nodejsæ¨¡å—å¦‚ä¸‹(å…·ä½“ç”¨æ³•è¯·æŸ¥è¯¢ç½‘ä¸Šç›¸å…³èµ„æ–™)ï¼š12345let superagent = require('superagent'), //nodejsé‡Œé¢ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å®¢æˆ·ç«¯ä»£ç†è¯·æ±‚æ¨¡å—ï¼Œæ”¯æŒget,post,put,deleteç­‰ cheerio = require('cheerio'), //ç±»ä¼¼äºjQueryçš„DOMæ“ä½œæ¨¡å—ï¼Œå¯ä»¥æå–htmlä¸­æƒ³è¦çš„ä¿¡æ¯ eventproxy = require('eventproxy'), //æ§åˆ¶å¼‚æ­¥è¯·æ±‚å¹¶å‘ï¼Œå¯ä»¥ç›‘å¬è¯·æ±‚ï¼Œä½¿å¾—æŸäº›è¯·æ±‚å®Œæ¯•ä¹‹ååœ¨å‘é€è¯·æ±‚ assert = require('assert'), //å¼‚å¸¸æŠ›å‡ºåˆ¤æ–­æ¨¡å—ï¼Œassert.equal(err, null); å¦‚æœerrä¸ä¸ºnull,åˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸ async = require('async'); //æ§åˆ¶è¯·æ±‚å¹¶å‘è¿æ¥æ•°","text":"ä¹‹å‰å†™äº†ä¸€ä¸ªnodejsçš„å¼€æºçˆ¬è™«å°é¡¹ç›®ï¼Œè¡¥ä¸Šåšå®¢è¯¦ç»†è§£æä¸‹ä»£ç ã€‚ PSï¼šå…±æœ‰ä¸Šä¸‹ä¸¤ç¯‡ï¼Œç¬¬ä¸€ç¯‡è®²ä»ç½‘ç«™ä¸ŠæŠ“å–æ•°æ®ï¼Œç¬¬äºŒç¯‡è®²å°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ã€‚ æˆ‘ä»¬å¿«é€Ÿå¼€å§‹å§é¦–å…ˆï¼Œå®‰è£…nodejsï¼Œç„¶åç”¨npmå·¥å…·åˆå§‹åŒ–èµ„æºç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage.jsonæ–°å»ºspideræ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢åˆå§‹åŒ–package.json1npm init ç„¶åç”¨npmå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š1npm install --save-dev superagent cheerio eventproxy async åœ¨æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºspider.js, åœ¨æ–‡ä»¶ä¸­å¼•å…¥éœ€è¦ç”¨åˆ°çš„nodejsæ¨¡å—å¦‚ä¸‹(å…·ä½“ç”¨æ³•è¯·æŸ¥è¯¢ç½‘ä¸Šç›¸å…³èµ„æ–™)ï¼š12345let superagent = require('superagent'), //nodejsé‡Œé¢ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å®¢æˆ·ç«¯ä»£ç†è¯·æ±‚æ¨¡å—ï¼Œæ”¯æŒget,post,put,deleteç­‰ cheerio = require('cheerio'), //ç±»ä¼¼äºjQueryçš„DOMæ“ä½œæ¨¡å—ï¼Œå¯ä»¥æå–htmlä¸­æƒ³è¦çš„ä¿¡æ¯ eventproxy = require('eventproxy'), //æ§åˆ¶å¼‚æ­¥è¯·æ±‚å¹¶å‘ï¼Œå¯ä»¥ç›‘å¬è¯·æ±‚ï¼Œä½¿å¾—æŸäº›è¯·æ±‚å®Œæ¯•ä¹‹ååœ¨å‘é€è¯·æ±‚ assert = require('assert'), //å¼‚å¸¸æŠ›å‡ºåˆ¤æ–­æ¨¡å—ï¼Œassert.equal(err, null); å¦‚æœerrä¸ä¸ºnull,åˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸ async = require('async'); //æ§åˆ¶è¯·æ±‚å¹¶å‘è¿æ¥æ•° ç”¨superagentè¯·æ±‚è±†ç“£çš„æŸä¸ªæ¥å£ï¼Œå¹¶æŠŠæ‰€æœ‰çš„é¡µé¢é“¾æ¥æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œç”¨eventproxyæ§åˆ¶ç›‘å¬è¯¥è¯·æ±‚ç»“æŸä¹‹åæ‰å¼€å§‹è¯·æ±‚ç›¸åº”çš„è¯¦æƒ…é¡µé¢ã€‚12345678superagent.get(URL) .end((err, res) =&gt; &#123; let _pageUrls = []; res.body.forEach((val) =&gt; &#123; _pageUrls.push(val.url); &#125;); ep.emit('pageUrls', _pageUrls); //ç›‘å¬ç›¸å…³å®ä¾‹ï¼Œå®Œæˆä¹‹åå‘Šè¯‰pageUrls &#125;) ç›‘å¬äº‹ä»¶å®Œæˆä¹‹åï¼Œæ‰§è¡Œè¯·æ±‚ç›¸åº”çš„è±†ç“£ç”µå½±è¯¦æƒ…é¡µé¢.å¹¶ç”¨asyncæ§åˆ¶è¯·æ±‚çš„å¹¶å‘é‡ï¼Œå¯ä»¥é™ä½è¯·æ±‚çš„é¢‘ç‡å’Œé€Ÿåº¦123456789101112131415161718192021222324252627let ep = eventproxy.create('pageUrls', (pageUrls) =&gt; &#123; //åˆ›å»ºä¸€ä¸ªç›‘å¬å®ä¾‹ let _http = (url, callback) =&gt; &#123; let _delay = parseInt((Math.random() * 30000000) % 1000, 10); //éšæœºå»¶æ—¶è¯·æ±‚ superagent.get(url) .end((err, res) =&gt; &#123; var $ = cheerio.load(res.text); //ç”¨cheerioè·å–æ•´ä¸ªé¡µé¢DOMå¯¹è±¡ var _data = &#123;title:'', type: '', directories: '', scriptwriter: '', actors: ''&#125;; _data.title = $('#content h1 span').text(); _data.directories = $('#info .attrs').eq(0).text(); _data.scriptwriter = $('#info .attrs').eq(1).text(); _data.actors = $('#info .attrs').eq(2).text(); $('span[property=\"v:genre\"]').each(function (index) &#123; _data.type += ($(this).text() + (index == $('span[property=\"v:genre\"]').length - 1 ? '' : 'ã€')); &#125;); console.log(_data); &#125;); setTimeout(() =&gt; &#123; callback(null, url); &#125;, _delay); &#125;; async.mapLimit(pageUrls, 3, (url, callback) =&gt; &#123; //ç”¨async çš„ mapLimit(arr, limit, iterator, callback) æ¥å£æ§åˆ¶è¯·æ±‚å¹¶å‘é‡ä¸º3 _http(url, callback); &#125;, (err, res) =&gt; &#123; assert.equal(err, null); &#125;)&#125;); æœ¬ç« èŠ‚ç»“æŸï¼Œæœªå®Œå¾…ç»­â€¦ä¸‹æœŸæ˜¯æ€ä¹ˆå°†æŠ“å–çš„æ•°æ®å­˜å…¥mongodbæ•°æ®åº“ï¼","categories":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://yezihaohao.github.io/categories/çˆ¬è™«/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"https://yezihaohao.github.io/tags/Javascript/"},{"name":"Nodejs","slug":"Nodejs","permalink":"https://yezihaohao.github.io/tags/Nodejs/"}]}]}